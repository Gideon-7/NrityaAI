---


---

<hr>
<p>name: Content Creator Platform</p>
<p>overview: A full-stack architecture plan for building a scalable content creator platform with AI-powered video/reel generation, supporting web and mobile (React Native), with direct social media integration.</p>
<p>todos:</p>
<ul>
<li>id: phase1-setup</li>
</ul>
<p>content: “Phase 1: Set up monorepo, Next.js web app, NestJS backend, PostgreSQL, authentication, and basic dashboard”</p>
<p>status: pending</p>
<ul>
<li>id: phase2-core</li>
</ul>
<p>content: “Phase 2: Implement media upload, project management, template system, and video editor UI”</p>
<p>status: pending</p>
<ul>
<li>id: phase3-ai</li>
</ul>
<p>content: “Phase 3: Integrate AI services (Runway, OpenAI, ElevenLabs), implement video generation pipeline”</p>
<p>status: pending</p>
<ul>
<li>id: phase4-social</li>
</ul>
<p>content: “Phase 4: Build social media OAuth integrations and direct posting for Instagram, Facebook, YouTube”</p>
<p>status: pending</p>
<ul>
<li>id: phase5-mobile</li>
</ul>
<p>content: “Phase 5: Develop React Native mobile app with core features”</p>
<p>status: pending</p>
<ul>
<li>id: phase6-launch</li>
</ul>
<p>content: “Phase 6: Testing, security audit, optimization, and beta launch”</p>
<p>status: pending</p>
<p>isProject: false</p>
<hr>
<h1 id="content-creator-platform---complete-architecture-plan">Content Creator Platform - Complete Architecture Plan</h1>
<h2 id="high-level-architecture-overview">1. High-Level Architecture Overview</h2>
<pre class=" language-mermaid"><svg id="mermaid-svg-phmAB60WWzmPQnfp" width="100%" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" height="1645.71044921875" style="max-width: 1441.7578125px;" viewBox="0 0 1441.7578125 1645.71044921875"><style>#mermaid-svg-phmAB60WWzmPQnfp{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;fill:#000000;}#mermaid-svg-phmAB60WWzmPQnfp .error-icon{fill:#552222;}#mermaid-svg-phmAB60WWzmPQnfp .error-text{fill:#552222;stroke:#552222;}#mermaid-svg-phmAB60WWzmPQnfp .edge-thickness-normal{stroke-width:2px;}#mermaid-svg-phmAB60WWzmPQnfp .edge-thickness-thick{stroke-width:3.5px;}#mermaid-svg-phmAB60WWzmPQnfp .edge-pattern-solid{stroke-dasharray:0;}#mermaid-svg-phmAB60WWzmPQnfp .edge-pattern-dashed{stroke-dasharray:3;}#mermaid-svg-phmAB60WWzmPQnfp .edge-pattern-dotted{stroke-dasharray:2;}#mermaid-svg-phmAB60WWzmPQnfp .marker{fill:#666;stroke:#666;}#mermaid-svg-phmAB60WWzmPQnfp .marker.cross{stroke:#666;}#mermaid-svg-phmAB60WWzmPQnfp svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;}#mermaid-svg-phmAB60WWzmPQnfp .label{font-family:"trebuchet ms",verdana,arial,sans-serif;color:#000000;}#mermaid-svg-phmAB60WWzmPQnfp .cluster-label text{fill:#333;}#mermaid-svg-phmAB60WWzmPQnfp .cluster-label span{color:#333;}#mermaid-svg-phmAB60WWzmPQnfp .label text,#mermaid-svg-phmAB60WWzmPQnfp span{fill:#000000;color:#000000;}#mermaid-svg-phmAB60WWzmPQnfp .node rect,#mermaid-svg-phmAB60WWzmPQnfp .node circle,#mermaid-svg-phmAB60WWzmPQnfp .node ellipse,#mermaid-svg-phmAB60WWzmPQnfp .node polygon,#mermaid-svg-phmAB60WWzmPQnfp .node path{fill:#eee;stroke:#999;stroke-width:1px;}#mermaid-svg-phmAB60WWzmPQnfp .node .label{text-align:center;}#mermaid-svg-phmAB60WWzmPQnfp .node.clickable{cursor:pointer;}#mermaid-svg-phmAB60WWzmPQnfp .arrowheadPath{fill:#333333;}#mermaid-svg-phmAB60WWzmPQnfp .edgePath .path{stroke:#666;stroke-width:1.5px;}#mermaid-svg-phmAB60WWzmPQnfp .flowchart-link{stroke:#666;fill:none;}#mermaid-svg-phmAB60WWzmPQnfp .edgeLabel{background-color:white;text-align:center;}#mermaid-svg-phmAB60WWzmPQnfp .edgeLabel rect{opacity:0.5;background-color:white;fill:white;}#mermaid-svg-phmAB60WWzmPQnfp .cluster rect{fill:hsl(210,66.6666666667%,95%);stroke:#26a;stroke-width:1px;}#mermaid-svg-phmAB60WWzmPQnfp .cluster text{fill:#333;}#mermaid-svg-phmAB60WWzmPQnfp .cluster span{color:#333;}#mermaid-svg-phmAB60WWzmPQnfp div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:12px;background:hsl(-160,0%,93.3333333333%);border:1px solid #26a;border-radius:2px;pointer-events:none;z-index:100;}#mermaid-svg-phmAB60WWzmPQnfp:root{--mermaid-font-family:"trebuchet ms",verdana,arial,sans-serif;}#mermaid-svg-phmAB60WWzmPQnfp flowchart-v2{fill:apa;}</style><g transform="translate(0, 0)"><marker id="flowchart-pointEnd" class="marker flowchart" viewBox="0 0 10 10" refX="9" refY="5" markerUnits="userSpaceOnUse" markerWidth="12" markerHeight="12" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path></marker><marker id="flowchart-pointStart" class="marker flowchart" viewBox="0 0 10 10" refX="0" refY="5" markerUnits="userSpaceOnUse" markerWidth="12" markerHeight="12" orient="auto"><path d="M 0 5 L 10 10 L 10 0 z" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path></marker><marker id="flowchart-circleEnd" class="marker flowchart" viewBox="0 0 10 10" refX="11" refY="5" markerUnits="userSpaceOnUse" markerWidth="11" markerHeight="11" orient="auto"><circle cx="5" cy="5" r="5" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></circle></marker><marker id="flowchart-circleStart" class="marker flowchart" viewBox="0 0 10 10" refX="-1" refY="5" markerUnits="userSpaceOnUse" markerWidth="11" markerHeight="11" orient="auto"><circle cx="5" cy="5" r="5" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></circle></marker><marker id="flowchart-crossEnd" class="marker cross flowchart" viewBox="0 0 11 11" refX="12" refY="5.2" markerUnits="userSpaceOnUse" markerWidth="11" markerHeight="11" orient="auto"><path d="M 1,1 l 9,9 M 10,1 l -9,9" class="arrowMarkerPath" style="stroke-width: 2; stroke-dasharray: 1, 0;"></path></marker><marker id="flowchart-crossStart" class="marker cross flowchart" viewBox="0 0 11 11" refX="-1" refY="5.2" markerUnits="userSpaceOnUse" markerWidth="11" markerHeight="11" orient="auto"><path d="M 1,1 l 9,9 M 10,1 l -9,9" class="arrowMarkerPath" style="stroke-width: 2; stroke-dasharray: 1, 0;"></path></marker><g class="root"><g class="clusters"><g class="cluster default" id="backend"><rect style="" rx="0" ry="0" x="45.38671875" y="606.59375" width="1388.37109375" height="91.71875"></rect><g class="cluster-label" transform="translate(678.162109375, 611.59375)"><foreignObject width="122.8203125" height="26.71875"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="nodeLabel">Backend Services</span></div></foreignObject></g></g></g><g class="edgePaths"><path d="M132.7734375,211.4375L132.7734375,215.60416666666666C132.7734375,219.77083333333334,132.7734375,228.10416666666666,132.7734375,236.4375C132.7734375,244.77083333333334,132.7734375,253.10416666666666,132.7734375,257.2708333333333L132.7734375,261.4375" id="L-clients-gateway" class=" edge-thickness-normal edge-pattern-solid flowchart-link LS-clients LE-gateway" style="fill:none;" marker-end="url(#flowchart-pointEnd)"></path><path d="M132.7734375,556.59375L132.7734375,560.7604166666666C132.7734375,564.9270833333334,132.7734375,573.2604166666666,132.7734375,581.59375C132.7734375,589.9270833333334,132.7734375,598.2604166666666,132.7734375,602.4270833333334L132.7734375,606.59375" id="L-gateway-backend" class=" edge-thickness-normal edge-pattern-solid flowchart-link LS-gateway LE-backend" style="fill:none;" marker-end="url(#flowchart-pointEnd)"></path><path d="M132.7734375,698.3125L132.7734375,698.3125C132.7734375,698.3125,132.7734375,698.3125,132.7734375,702.4791666666666C132.7734375,706.6458333333334,132.7734375,714.9791666666666,132.7734375,755.5520833333334C132.7734375,796.125,132.7734375,868.9375,132.7734375,941.75C132.7734375,1014.5625,132.7734375,1087.375,197.162109375,1156.041251352872C261.55078125,1224.7075027057442,390.328125,1289.2275054114884,454.716796875,1321.4875067643604L519.10546875,1353.7475081172327" id="L-backend-storage" class=" edge-thickness-normal edge-pattern-solid flowchart-link LS-backend LE-storage" style="fill:none;" marker-end="url(#flowchart-pointEnd)"></path><path d="M756.0703125,673.3125L756.0703125,677.4791666666666C756.0703125,681.6458333333334,756.0703125,689.9791666666666,756.0703125,698.3125C756.0703125,706.6458333333334,756.0703125,714.9791666666666,756.0703125,723.3125C756.0703125,731.6458333333334,756.0703125,739.9791666666666,756.0703125,744.1458333333334L756.0703125,748.3125" id="L-AIService-ai" class=" edge-thickness-normal edge-pattern-solid flowchart-link LS-AIService LE-ai" style="fill:none;" marker-end="url(#flowchart-pointEnd)"></path><path d="M487.15234375,673.3125L487.15234375,677.4791666666666C487.15234375,681.6458333333334,487.15234375,689.9791666666666,487.15234375,698.3125C487.15234375,706.6458333333334,487.15234375,714.9791666666666,487.15234375,723.3125C487.15234375,731.6458333333334,487.15234375,739.9791666666666,487.15234375,744.1458333333334L487.15234375,748.3125" id="L-SocialService-social" class=" edge-thickness-normal edge-pattern-solid flowchart-link LS-SocialService LE-social" style="fill:none;" marker-end="url(#flowchart-pointEnd)"></path><path d="M1135.7734375,673.3125L1135.7734375,677.4791666666666C1135.7734375,681.6458333333334,1135.7734375,689.9791666666666,1135.7734375,698.3125C1135.7734375,706.6458333333334,1135.7734375,714.9791666666666,1135.7734375,730.9557291666666C1135.7734375,746.9322916666666,1135.7734375,770.5520833333334,1135.7734375,782.3619791666666L1135.7734375,794.171875" id="L-MediaService-jobs" class=" edge-thickness-normal edge-pattern-solid flowchart-link LS-MediaService LE-jobs" style="fill:none;" marker-end="url(#flowchart-pointEnd)"></path><path d="M1135.7734375,1089.328125L1135.7734375,1101.1380208333333C1135.7734375,1112.9479166666667,1135.7734375,1136.5677083333333,1071.384765625,1180.6376055195387C1006.99609375,1224.7075027057442,878.21875,1289.2275054114884,813.830078125,1321.4875067643604L749.44140625,1353.7475081172327" id="L-jobs-storage" class=" edge-thickness-normal edge-pattern-solid flowchart-link LS-jobs LE-storage" style="fill:none;" marker-end="url(#flowchart-pointEnd)"></path></g><g class="edgeLabels"><g class="edgeLabel"><g class="label" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel"></span></div></foreignObject></g></g></g><g class="nodes"><g class="root" transform="translate(1029.265625, 786.171875)"><g class="clusters"><g class="cluster default" id="jobs"><rect style="" rx="0" ry="0" x="8" y="8" width="197.015625" height="295.15625"></rect><g class="cluster-label" transform="translate(46.953125, 13)"><foreignObject width="119.109375" height="26.71875"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="nodeLabel">Background Jobs</span></div></foreignObject></g></g></g><g class="edgePaths"></g><g class="edgeLabels"></g><g class="nodes"><g class="node default default" id="flowchart-BullMQ-323" transform="translate(106.5078125, 63.859375)"><rect class="basic label-container" style="" rx="0" ry="0" x="-63.20703125" y="-20.859375" width="126.4140625" height="41.71875"></rect><g class="label" style="" transform="translate(-55.70703125, -13.359375)"><foreignObject width="111.4140625" height="26.71875"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="nodeLabel">BullMQ Workers</span></div></foreignObject></g></g><g class="node default default" id="flowchart-VideoProcessor-324" transform="translate(106.5078125, 155.578125)"><rect class="basic label-container" style="" rx="0" ry="0" x="-66.81640625" y="-20.859375" width="133.6328125" height="41.71875"></rect><g class="label" style="" transform="translate(-59.31640625, -13.359375)"><foreignObject width="118.6328125" height="26.71875"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="nodeLabel">Video Processing</span></div></foreignObject></g></g><g class="node default default" id="flowchart-Webhooks-325" transform="translate(106.5078125, 247.296875)"><rect class="basic label-container" style="" rx="0" ry="0" x="-73.5078125" y="-20.859375" width="147.015625" height="41.71875"></rect><g class="label" style="" transform="translate(-66.0078125, -13.359375)"><foreignObject width="132.015625" height="26.71875"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="nodeLabel">Webhook Handlers</span></div></foreignObject></g></g></g></g><g class="root" transform="translate(375.51171875, 740.3125)"><g class="clusters"><g class="cluster default" id="social"><rect style="" rx="0" ry="0" x="8" y="8" width="207.28125" height="386.875"></rect><g class="cluster-label" transform="translate(53.8515625, 13)"><foreignObject width="115.578125" height="26.71875"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="nodeLabel">Social Platforms</span></div></foreignObject></g></g></g><g class="edgePaths"></g><g class="edgeLabels"></g><g class="nodes"><g class="node default default" id="flowchart-Instagram-319" transform="translate(111.640625, 63.859375)"><rect class="basic label-container" style="" rx="0" ry="0" x="-56.0546875" y="-20.859375" width="112.109375" height="41.71875"></rect><g class="label" style="" transform="translate(-48.5546875, -13.359375)"><foreignObject width="97.109375" height="26.71875"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="nodeLabel">Instagram API</span></div></foreignObject></g></g><g class="node default default" id="flowchart-Facebook-320" transform="translate(111.640625, 155.578125)"><rect class="basic label-container" style="" rx="0" ry="0" x="-78.640625" y="-20.859375" width="157.28125" height="41.71875"></rect><g class="label" style="" transform="translate(-71.140625, -13.359375)"><foreignObject width="142.28125" height="26.71875"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="nodeLabel">Facebook Graph API</span></div></foreignObject></g></g><g class="node default default" id="flowchart-YouTube-321" transform="translate(111.640625, 247.296875)"><rect class="basic label-container" style="" rx="0" ry="0" x="-68.87890625" y="-20.859375" width="137.7578125" height="41.71875"></rect><g class="label" style="" transform="translate(-61.37890625, -13.359375)"><foreignObject width="122.7578125" height="26.71875"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="nodeLabel">YouTube Data API</span></div></foreignObject></g></g><g class="node default default" id="flowchart-TikTok-322" transform="translate(111.640625, 339.015625)"><rect class="basic label-container" style="" rx="0" ry="0" x="-43.48046875" y="-20.859375" width="86.9609375" height="41.71875"></rect><g class="label" style="" transform="translate(-35.98046875, -13.359375)"><foreignObject width="71.9609375" height="26.71875"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="nodeLabel">TikTok API</span></div></foreignObject></g></g></g></g><g class="root" transform="translate(632.79296875, 740.3125)"><g class="clusters"><g class="cluster default" id="ai"><rect style="" rx="0" ry="0" x="8" y="8" width="230.5546875" height="386.875"></rect><g class="cluster-label" transform="translate(30.59765625, 13)"><foreignObject width="185.359375" height="26.71875"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="nodeLabel">AI Services - External APIs</span></div></foreignObject></g></g></g><g class="edgePaths"></g><g class="edgeLabels"></g><g class="nodes"><g class="node default default" id="flowchart-Runway-315" transform="translate(123.27734375, 63.859375)"><rect class="basic label-container" style="" rx="0" ry="0" x="-46.90625" y="-20.859375" width="93.8125" height="41.71875"></rect><g class="label" style="" transform="translate(-39.40625, -13.359375)"><foreignObject width="78.8125" height="26.71875"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="nodeLabel">Runway ML</span></div></foreignObject></g></g><g class="node default default" id="flowchart-OpenAI-316" transform="translate(123.27734375, 155.578125)"><rect class="basic label-container" style="" rx="0" ry="0" x="-90.27734375" y="-20.859375" width="180.5546875" height="41.71875"></rect><g class="label" style="" transform="translate(-82.77734375, -13.359375)"><foreignObject width="165.5546875" height="26.71875"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="nodeLabel">OpenAI GPT-4 + DALL-E</span></div></foreignObject></g></g><g class="node default default" id="flowchart-ElevenLabs-317" transform="translate(123.27734375, 247.296875)"><rect class="basic label-container" style="" rx="0" ry="0" x="-49.51953125" y="-20.859375" width="99.0390625" height="41.71875"></rect><g class="label" style="" transform="translate(-42.01953125, -13.359375)"><foreignObject width="84.0390625" height="26.71875"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="nodeLabel">Eleven Labs</span></div></foreignObject></g></g><g class="node default default" id="flowchart-Replicate-318" transform="translate(123.27734375, 339.015625)"><rect class="basic label-container" style="" rx="0" ry="0" x="-40.9921875" y="-20.859375" width="81.984375" height="41.71875"></rect><g class="label" style="" transform="translate(-33.4921875, -13.359375)"><foreignObject width="66.984375" height="26.71875"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="nodeLabel">Replicate</span></div></foreignObject></g></g></g></g><g class="root" transform="translate(511.10546875, 1177.1875)"><g class="clusters"><g class="cluster default" id="storage"><rect style="" rx="0" ry="0" x="8" y="8" width="230.3359375" height="452.52288818359375"></rect><g class="cluster-label" transform="translate(74.08203125, 13)"><foreignObject width="98.171875" height="26.71875"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="nodeLabel">Storage Layer</span></div></foreignObject></g></g></g><g class="edgePaths"></g><g class="edgeLabels"></g><g class="nodes"><g class="node default default" id="flowchart-PostgreSQL-311" label-offset-y="10.741275442911633" transform="translate(123.16796875, 79.96757888793945)"><path style="" d="M 0,10.741275442911633 a 47.08203125,10.741275442911633 0,0,0 94.1640625 0 a 47.08203125,10.741275442911633 0,0,0 -94.1640625 0 l 0,52.46002544291163 a 47.08203125,10.741275442911633 0,0,0 94.1640625 0 l 0,-52.46002544291163" transform="translate(-47.08203125,-36.97128816436745)"></path><g class="label" style="" transform="translate(-39.58203125, -13.359375)"><foreignObject width="79.1640625" height="26.71875"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="nodeLabel">PostgreSQL</span></div></foreignObject></g></g><g class="node default default" id="flowchart-Redis-312" label-offset-y="11.143827074961894" transform="translate(123.16796875, 204.51027297973633)"><path style="" d="M 0,11.143827074961894 a 50.265625,11.143827074961894 0,0,0 100.53125 0 a 50.265625,11.143827074961894 0,0,0 -100.53125 0 l 0,52.86257707496189 a 50.265625,11.143827074961894 0,0,0 100.53125 0 l 0,-52.86257707496189" transform="translate(-50.265625,-37.57511561244284)"></path><g class="label" style="" transform="translate(-42.765625, -13.359375)"><foreignObject width="85.53125" height="26.71875"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="nodeLabel">Redis Cache</span></div></foreignObject></g></g><g class="node default default" id="flowchart-S3-313" transform="translate(123.16796875, 312.94476318359375)"><rect class="basic label-container" style="" rx="0" ry="0" x="-90.16796875" y="-20.859375" width="180.3359375" height="41.71875"></rect><g class="label" style="" transform="translate(-82.66796875, -13.359375)"><foreignObject width="165.3359375" height="26.71875"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="nodeLabel">AWS S3 / Cloudflare R2</span></div></foreignObject></g></g><g class="node default default" id="flowchart-CDN-314" transform="translate(123.16796875, 404.66351318359375)"><rect class="basic label-container" style="" rx="0" ry="0" x="-64.1171875" y="-20.859375" width="128.234375" height="41.71875"></rect><g class="label" style="" transform="translate(-56.6171875, -13.359375)"><foreignObject width="113.234375" height="26.71875"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="nodeLabel">CloudFront CDN</span></div></foreignObject></g></g></g></g><g class="node default default" id="flowchart-AuthService-304" transform="translate(132.7734375, 652.453125)"><rect class="basic label-container" style="" rx="0" ry="0" x="-52.38671875" y="-20.859375" width="104.7734375" height="41.71875"></rect><g class="label" style="" transform="translate(-44.88671875, -13.359375)"><foreignObject width="89.7734375" height="26.71875"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="nodeLabel">Auth Service</span></div></foreignObject></g></g><g class="node default default" id="flowchart-UserService-305" transform="translate(286.8125, 652.453125)"><rect class="basic label-container" style="" rx="0" ry="0" x="-51.65234375" y="-20.859375" width="103.3046875" height="41.71875"></rect><g class="label" style="" transform="translate(-44.15234375, -13.359375)"><foreignObject width="88.3046875" height="26.71875"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="nodeLabel">User Service</span></div></foreignObject></g></g><g class="node default default" id="flowchart-MediaService-306" transform="translate(1135.7734375, 652.453125)"><rect class="basic label-container" style="" rx="0" ry="0" x="-56.734375" y="-20.859375" width="113.46875" height="41.71875"></rect><g class="label" style="" transform="translate(-49.234375, -13.359375)"><foreignObject width="98.46875" height="26.71875"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="nodeLabel">Media Service</span></div></foreignObject></g></g><g class="node default default" id="flowchart-AIService-307" transform="translate(756.0703125, 652.453125)"><rect class="basic label-container" style="" rx="0" ry="0" x="-85.046875" y="-20.859375" width="170.09375" height="41.71875"></rect><g class="label" style="" transform="translate(-77.546875, -13.359375)"><foreignObject width="155.09375" height="26.71875"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="nodeLabel">AI Generation Service</span></div></foreignObject></g></g><g class="node default default" id="flowchart-TemplateService-308" transform="translate(960.078125, 652.453125)"><rect class="basic label-container" style="" rx="0" ry="0" x="-68.9609375" y="-20.859375" width="137.921875" height="41.71875"></rect><g class="label" style="" transform="translate(-61.4609375, -13.359375)"><foreignObject width="122.921875" height="26.71875"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="nodeLabel">Template Service</span></div></foreignObject></g></g><g class="node default default" id="flowchart-SocialService-309" transform="translate(487.15234375, 652.453125)"><rect class="basic label-container" style="" rx="0" ry="0" x="-98.6875" y="-20.859375" width="197.375" height="41.71875"></rect><g class="label" style="" transform="translate(-91.1875, -13.359375)"><foreignObject width="182.375" height="26.71875"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="nodeLabel">Social Integration Service</span></div></foreignObject></g></g><g class="node default default" id="flowchart-NotificationService-310" transform="translate(1320.6328125, 652.453125)"><rect class="basic label-container" style="" rx="0" ry="0" x="-78.125" y="-20.859375" width="156.25" height="41.71875"></rect><g class="label" style="" transform="translate(-70.625, -13.359375)"><foreignObject width="141.25" height="26.71875"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="nodeLabel">Notification Service</span></div></foreignObject></g></g><g class="root" transform="translate(4.94921875, 253.4375)"><g class="clusters"><g class="cluster default" id="gateway"><rect style="" rx="0" ry="0" x="8" y="8" width="239.6484375" height="295.15625"></rect><g class="cluster-label" transform="translate(82.7578125, 13)"><foreignObject width="90.1328125" height="26.71875"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="nodeLabel">API Gateway</span></div></foreignObject></g></g></g><g class="edgePaths"></g><g class="edgeLabels"></g><g class="nodes"><g class="node default default" id="flowchart-APIGateway-301" transform="translate(127.82421875, 63.859375)"><rect class="basic label-container" style="" rx="0" ry="0" x="-94.82421875" y="-20.859375" width="189.6484375" height="41.71875"></rect><g class="label" style="" transform="translate(-87.32421875, -13.359375)"><foreignObject width="174.6484375" height="26.71875"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="nodeLabel">Kong / AWS API Gateway</span></div></foreignObject></g></g><g class="node default default" id="flowchart-RateLimit-302" transform="translate(127.82421875, 155.578125)"><rect class="basic label-container" style="" rx="0" ry="0" x="-55.3984375" y="-20.859375" width="110.796875" height="41.71875"></rect><g class="label" style="" transform="translate(-47.8984375, -13.359375)"><foreignObject width="95.796875" height="26.71875"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="nodeLabel">Rate Limiting</span></div></foreignObject></g></g><g class="node default default" id="flowchart-Auth-303" transform="translate(127.82421875, 247.296875)"><rect class="basic label-container" style="" rx="0" ry="0" x="-84.86328125" y="-20.859375" width="169.7265625" height="41.71875"></rect><g class="label" style="" transform="translate(-77.36328125, -13.359375)"><foreignObject width="154.7265625" height="26.71875"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="nodeLabel">JWT Auth Middleware</span></div></foreignObject></g></g></g></g><g class="root" transform="translate(0, 0)"><g class="clusters"><g class="cluster default" id="clients"><rect style="" rx="0" ry="0" x="8" y="8" width="249.546875" height="203.4375"></rect><g class="cluster-label" transform="translate(65.6796875, 13)"><foreignObject width="134.1875" height="26.71875"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="nodeLabel">Client Applications</span></div></foreignObject></g></g></g><g class="edgePaths"></g><g class="edgeLabels"></g><g class="nodes"><g class="node default default" id="flowchart-WebApp-299" transform="translate(132.7734375, 63.859375)"><rect class="basic label-container" style="" rx="0" ry="0" x="-71.88671875" y="-20.859375" width="143.7734375" height="41.71875"></rect><g class="label" style="" transform="translate(-64.38671875, -13.359375)"><foreignObject width="128.7734375" height="26.71875"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="nodeLabel">Web App - Next.js</span></div></foreignObject></g></g><g class="node default default" id="flowchart-MobileApp-300" transform="translate(132.7734375, 155.578125)"><rect class="basic label-container" style="" rx="0" ry="0" x="-99.7734375" y="-20.859375" width="199.546875" height="41.71875"></rect><g class="label" style="" transform="translate(-92.2734375, -13.359375)"><foreignObject width="184.546875" height="26.71875"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="nodeLabel">Mobile App - React Native</span></div></foreignObject></g></g></g></g></g></g></g></svg></pre>
<hr>
<h2 id="technology-stack">2. Technology Stack</h2>
<h3 id="frontend-web">Frontend (Web)</h3>
<p>| Layer | Technology | Rationale |</p>
<p>| ---------------- | ------------------------------ | ------------------------------------------- |</p>
<p>| Framework | <strong>Next.js 14 (App Router)</strong> | SSR, API routes, excellent DX, SEO |</p>
<p>| UI Library | <strong>React 18</strong> | Component-based, huge ecosystem |</p>
<p>| Design System | <strong>Untitled UI + Tailwind CSS</strong> | Implement Untitled UI designs with Tailwind |</p>
<p>| State Management | <strong>Zustand + TanStack Query</strong> | Lightweight, excellent caching |</p>
<p>| Forms | <strong>React Hook Form + Zod</strong> | Type-safe validation |</p>
<p>| Video Player | <strong>Video.js / Plyr</strong> | Customizable, accessible |</p>
<h3 id="frontend-mobile">Frontend (Mobile)</h3>
<p>| Layer | Technology | Rationale |</p>
<p>| ------------- | -------------------------------- | -------------------------------------- |</p>
<p>| Framework | <strong>React Native 0.73+</strong> | Code sharing with web, large ecosystem |</p>
<p>| Navigation | <strong>React Navigation 6</strong> | Native feel, deep linking |</p>
<p>| UI Components | <strong>React Native Paper / Tamagui</strong> | Consistent with Untitled UI aesthetic |</p>
<p>| Video | <strong>react-native-video</strong> | Native video playback |</p>
<p>| File Handling | <strong>react-native-blob-util</strong> | Upload/download management |</p>
<h3 id="backend">Backend</h3>
<p>| Layer | Technology | Rationale |</p>
<p>| --------- | ----------------------------- | -------------------------------------------- |</p>
<p>| Runtime | <strong>Node.js 20 LTS</strong> | JavaScript consistency, excellent for I/O |</p>
<p>| Framework | <strong>NestJS</strong> | Enterprise-grade, TypeScript-first, modular |</p>
<p>| ORM | <strong>Prisma</strong> | Type-safe queries, migrations |</p>
<p>| API | <strong>REST + GraphQL (optional)</strong> | REST for simplicity, GraphQL for flexibility |</p>
<p>| Real-time | <strong><a href="http://Socket.io">Socket.io</a></strong> | Progress updates, notifications |</p>
<p>| Queue | <strong>BullMQ + Redis</strong> | Job processing for video generation |</p>
<h3 id="database-and-storage">Database and Storage</h3>
<p>| Layer | Technology | Rationale |</p>
<p>| -------------- | ----------------- | ------------------------------- |</p>
<p>| Primary DB | <strong>PostgreSQL 15</strong> | ACID, JSON support, scalable |</p>
<p>| Cache | <strong>Redis 7</strong> | Sessions, rate limiting, queues |</p>
<p>| Object Storage | <strong>Cloudflare R2</strong> | S3-compatible, no egress fees |</p>
<p>| CDN | <strong>Cloudflare</strong> | Global distribution, affordable |</p>
<h3 id="infrastructure">Infrastructure</h3>
<p>| Layer | Technology | Rationale |</p>
<p>| ---------- | ------------------------------------------------- | ----------------------------------- |</p>
<p>| Hosting | <strong>Railway / Render</strong> (MVP) or <strong>AWS ECS</strong> (scale) | Easy deployment, auto-scaling |</p>
<p>| Container | <strong>Docker</strong> | Consistent environments |</p>
<p>| CI/CD | <strong>GitHub Actions</strong> | Free for public, affordable private |</p>
<p>| Monitoring | <strong>Sentry + Axiom</strong> | Error tracking, logs |</p>
<p>| APM | <strong>OpenTelemetry</strong> | Performance monitoring |</p>
<hr>
<h2 id="ai-services-and-models">3. AI Services and Models</h2>
<h3 id="recommended-ai-apis-for-each-feature">Recommended AI APIs for Each Feature</h3>
<pre class=" language-mermaid"><svg id="mermaid-svg-Fckff23TG42vowbc" width="100%" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" height="494.59375" style="max-width: 881.8046875px;" viewBox="0 0 881.8046875 494.59375"><style>#mermaid-svg-Fckff23TG42vowbc{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;fill:#000000;}#mermaid-svg-Fckff23TG42vowbc .error-icon{fill:#552222;}#mermaid-svg-Fckff23TG42vowbc .error-text{fill:#552222;stroke:#552222;}#mermaid-svg-Fckff23TG42vowbc .edge-thickness-normal{stroke-width:2px;}#mermaid-svg-Fckff23TG42vowbc .edge-thickness-thick{stroke-width:3.5px;}#mermaid-svg-Fckff23TG42vowbc .edge-pattern-solid{stroke-dasharray:0;}#mermaid-svg-Fckff23TG42vowbc .edge-pattern-dashed{stroke-dasharray:3;}#mermaid-svg-Fckff23TG42vowbc .edge-pattern-dotted{stroke-dasharray:2;}#mermaid-svg-Fckff23TG42vowbc .marker{fill:#666;stroke:#666;}#mermaid-svg-Fckff23TG42vowbc .marker.cross{stroke:#666;}#mermaid-svg-Fckff23TG42vowbc svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;}#mermaid-svg-Fckff23TG42vowbc .label{font-family:"trebuchet ms",verdana,arial,sans-serif;color:#000000;}#mermaid-svg-Fckff23TG42vowbc .cluster-label text{fill:#333;}#mermaid-svg-Fckff23TG42vowbc .cluster-label span{color:#333;}#mermaid-svg-Fckff23TG42vowbc .label text,#mermaid-svg-Fckff23TG42vowbc span{fill:#000000;color:#000000;}#mermaid-svg-Fckff23TG42vowbc .node rect,#mermaid-svg-Fckff23TG42vowbc .node circle,#mermaid-svg-Fckff23TG42vowbc .node ellipse,#mermaid-svg-Fckff23TG42vowbc .node polygon,#mermaid-svg-Fckff23TG42vowbc .node path{fill:#eee;stroke:#999;stroke-width:1px;}#mermaid-svg-Fckff23TG42vowbc .node .label{text-align:center;}#mermaid-svg-Fckff23TG42vowbc .node.clickable{cursor:pointer;}#mermaid-svg-Fckff23TG42vowbc .arrowheadPath{fill:#333333;}#mermaid-svg-Fckff23TG42vowbc .edgePath .path{stroke:#666;stroke-width:1.5px;}#mermaid-svg-Fckff23TG42vowbc .flowchart-link{stroke:#666;fill:none;}#mermaid-svg-Fckff23TG42vowbc .edgeLabel{background-color:white;text-align:center;}#mermaid-svg-Fckff23TG42vowbc .edgeLabel rect{opacity:0.5;background-color:white;fill:white;}#mermaid-svg-Fckff23TG42vowbc .cluster rect{fill:hsl(210,66.6666666667%,95%);stroke:#26a;stroke-width:1px;}#mermaid-svg-Fckff23TG42vowbc .cluster text{fill:#333;}#mermaid-svg-Fckff23TG42vowbc .cluster span{color:#333;}#mermaid-svg-Fckff23TG42vowbc div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:12px;background:hsl(-160,0%,93.3333333333%);border:1px solid #26a;border-radius:2px;pointer-events:none;z-index:100;}#mermaid-svg-Fckff23TG42vowbc:root{--mermaid-font-family:"trebuchet ms",verdana,arial,sans-serif;}#mermaid-svg-Fckff23TG42vowbc flowchart-v2{fill:apa;}</style><g transform="translate(0, 0)"><marker id="flowchart-pointEnd" class="marker flowchart" viewBox="0 0 10 10" refX="9" refY="5" markerUnits="userSpaceOnUse" markerWidth="12" markerHeight="12" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path></marker><marker id="flowchart-pointStart" class="marker flowchart" viewBox="0 0 10 10" refX="0" refY="5" markerUnits="userSpaceOnUse" markerWidth="12" markerHeight="12" orient="auto"><path d="M 0 5 L 10 10 L 10 0 z" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path></marker><marker id="flowchart-circleEnd" class="marker flowchart" viewBox="0 0 10 10" refX="11" refY="5" markerUnits="userSpaceOnUse" markerWidth="11" markerHeight="11" orient="auto"><circle cx="5" cy="5" r="5" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></circle></marker><marker id="flowchart-circleStart" class="marker flowchart" viewBox="0 0 10 10" refX="-1" refY="5" markerUnits="userSpaceOnUse" markerWidth="11" markerHeight="11" orient="auto"><circle cx="5" cy="5" r="5" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></circle></marker><marker id="flowchart-crossEnd" class="marker cross flowchart" viewBox="0 0 11 11" refX="12" refY="5.2" markerUnits="userSpaceOnUse" markerWidth="11" markerHeight="11" orient="auto"><path d="M 1,1 l 9,9 M 10,1 l -9,9" class="arrowMarkerPath" style="stroke-width: 2; stroke-dasharray: 1, 0;"></path></marker><marker id="flowchart-crossStart" class="marker cross flowchart" viewBox="0 0 11 11" refX="-1" refY="5.2" markerUnits="userSpaceOnUse" markerWidth="11" markerHeight="11" orient="auto"><path d="M 1,1 l 9,9 M 10,1 l -9,9" class="arrowMarkerPath" style="stroke-width: 2; stroke-dasharray: 1, 0;"></path></marker><g class="root"><g class="clusters"><g class="cluster default" id="output"><rect style="" rx="0" ry="0" x="702.7890625" y="89.71875" width="171.015625" height="295.15625"></rect><g class="cluster-label" transform="translate(763.36328125, 94.71875)"><foreignObject width="49.8671875" height="26.71875"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="nodeLabel">Output</span></div></foreignObject></g></g><g class="cluster default" id="processing"><rect style="" rx="0" ry="0" x="216.1953125" y="8" width="436.59375" height="478.59375"></rect><g class="cluster-label" transform="translate(388.1796875, 13)"><foreignObject width="92.625" height="26.71875"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="nodeLabel">AI Processing</span></div></foreignObject></g></g><g class="cluster default" id="input"><rect style="" rx="0" ry="0" x="8" y="8" width="158.1953125" height="478.59375"></rect><g class="cluster-label" transform="translate(50.19140625, 13)"><foreignObject width="73.8125" height="26.71875"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="nodeLabel">User Input</span></div></foreignObject></g></g></g><g class="edgePaths"><path d="M136.5078125,63.859375L141.45572916666666,63.859375C146.40364583333334,63.859375,156.29947916666666,63.859375,165.4140625,63.859375C174.52864583333334,63.859375,182.86197916666666,63.859375,191.1953125,63.859375C199.52864583333334,63.859375,207.86197916666666,63.859375,216.1953125,63.859375C224.52864583333334,63.859375,232.86197916666666,63.859375,237.02864583333334,63.859375L241.1953125,63.859375" id="L-RawImages-ImageEnhance" class=" edge-thickness-normal edge-pattern-solid flowchart-link LS-RawImages LE-ImageEnhance" style="fill:none;" marker-end="url(#flowchart-pointEnd)"></path><path d="M135.0078125,155.578125L140.20572916666666,155.578125C145.40364583333334,155.578125,155.79947916666666,155.578125,165.1640625,155.578125C174.52864583333334,155.578125,182.86197916666666,155.578125,191.1953125,155.578125C199.52864583333334,155.578125,207.86197916666666,155.578125,217.86783854166666,155.578125C227.87369791666666,155.578125,239.55208333333334,155.578125,245.39127604166666,155.578125L251.23046875,155.578125" id="L-RawVideos-VideoGen" class=" edge-thickness-normal edge-pattern-solid flowchart-link LS-RawVideos LE-VideoGen" style="fill:none;" marker-end="url(#flowchart-pointEnd)"></path><path d="M141.1953125,430.734375L145.36197916666666,430.734375C149.52864583333334,430.734375,157.86197916666666,430.734375,166.1953125,430.734375C174.52864583333334,430.734375,182.86197916666666,430.734375,191.1953125,430.734375C199.52864583333334,430.734375,207.86197916666666,430.734375,216.59895833333334,430.734375C225.3359375,430.734375,234.4765625,430.734375,239.046875,430.734375L243.6171875,430.734375" id="L-TextPrompt-CaptionGen" class=" edge-thickness-normal edge-pattern-solid flowchart-link LS-TextPrompt LE-CaptionGen" style="fill:none;" marker-end="url(#flowchart-pointEnd)"></path><path d="M140.15625,339.015625L144.49609375,339.015625C148.8359375,339.015625,157.515625,339.015625,166.02213541666666,339.015625C174.52864583333334,339.015625,182.86197916666666,339.015625,191.1953125,339.015625C199.52864583333334,339.015625,207.86197916666666,339.015625,218.01236979166666,339.015625C228.16276041666666,339.015625,240.13020833333334,339.015625,246.11393229166666,339.015625L252.09765625,339.015625" id="L-VoiceScript-VoiceGen" class=" edge-thickness-normal edge-pattern-solid flowchart-link LS-VoiceScript LE-VoiceGen" style="fill:none;" marker-end="url(#flowchart-pointEnd)"></path><path d="M400.859375,63.859375L405.0260416666667,63.859375C409.1927083333333,63.859375,417.5260416666667,63.859375,438.45309588612645,90.95572916666667C459.3801501055863,118.05208333333333,492.9009252111726,172.24479166666666,509.6613127639657,199.34114583333334L526.4217003167589,226.4375" id="L-ImageEnhance-EffectsGen" class=" edge-thickness-normal edge-pattern-solid flowchart-link LS-ImageEnhance LE-EffectsGen" style="fill:none;" marker-end="url(#flowchart-pointEnd)"></path><path d="M390.82421875,155.578125L396.6634114583333,155.578125C402.5026041666667,155.578125,414.1809895833333,155.578125,434.6301501055863,167.38802083333334C455.0793106278393,179.19791666666666,484.29924625567855,202.81770833333334,498.9092140695982,214.62760416666666L513.5191818835178,226.4375" id="L-VideoGen-EffectsGen" class=" edge-thickness-normal edge-pattern-solid flowchart-link LS-VideoGen LE-EffectsGen" style="fill:none;" marker-end="url(#flowchart-pointEnd)"></path><path d="M390.40234375,247.296875L396.3118489583333,247.296875C402.2213541666667,247.296875,414.0403645833333,247.296875,424.1165364583333,247.296875C434.1927083333333,247.296875,442.5260416666667,247.296875,446.6927083333333,247.296875L450.859375,247.296875" id="L-MusicGen-EffectsGen" class=" edge-thickness-normal edge-pattern-solid flowchart-link LS-MusicGen LE-EffectsGen" style="fill:none;" marker-end="url(#flowchart-pointEnd)"></path><path d="M389.95703125,339.015625L395.9407552083333,339.015625C401.9244791666667,339.015625,413.8919270833333,339.015625,434.4856188555863,327.2057291666667C455.0793106278393,315.3958333333333,484.29924625567855,291.7760416666667,498.9092140695982,279.9661458333333L513.5191818835178,268.15625" id="L-VoiceGen-EffectsGen" class=" edge-thickness-normal edge-pattern-solid flowchart-link LS-VoiceGen LE-EffectsGen" style="fill:none;" marker-end="url(#flowchart-pointEnd)"></path><path d="M398.4375,430.734375L403.0078125,430.734375C407.578125,430.734375,416.71875,430.734375,438.04945005279313,403.6380208333333C459.3801501055863,376.5416666666667,492.9009252111726,322.3489583333333,509.6613127639657,295.2526041666667L526.4217003167589,268.15625" id="L-CaptionGen-EffectsGen" class=" edge-thickness-normal edge-pattern-solid flowchart-link LS-CaptionGen LE-EffectsGen" style="fill:none;" marker-end="url(#flowchart-pointEnd)"></path><path d="M562.5923549107143,226.4375L577.6251395089286,212.9609375C592.6579241071429,199.484375,622.7234933035714,172.53125,641.9229445684524,159.0546875C661.1223958333334,145.578125,669.4557291666666,145.578125,677.7890625,145.578125C686.1223958333334,145.578125,694.4557291666666,145.578125,702.7890625,145.578125C711.1223958333334,145.578125,719.4557291666666,145.578125,723.6223958333334,145.578125L727.7890625,145.578125" id="L-EffectsGen-IGReel" class=" edge-thickness-normal edge-pattern-solid flowchart-link LS-EffectsGen LE-IGReel" style="fill:none;" marker-end="url(#flowchart-pointEnd)"></path><path d="M627.7890625,239.50020064464488L631.9557291666666,239.13297970387075C636.1223958333334,238.7657587630966,644.4557291666666,238.0313168815483,652.7890625,237.66409594077413C661.1223958333334,237.296875,669.4557291666666,237.296875,677.7890625,237.296875C686.1223958333334,237.296875,694.4557291666666,237.296875,703.0182291666666,237.296875C711.5807291666666,237.296875,720.3723958333334,237.296875,724.7682291666666,237.296875L729.1640625,237.296875" id="L-EffectsGen-FBReel" class=" edge-thickness-normal edge-pattern-solid flowchart-link LS-EffectsGen LE-FBReel" style="fill:none;" marker-end="url(#flowchart-pointEnd)"></path><path d="M568.2870421546368,268.15625L582.3707122121973,278.2994791666667C596.4543822697578,288.4427083333333,624.6217223848789,308.7291666666667,642.8720591091061,318.8723958333333C661.1223958333334,329.015625,669.4557291666666,329.015625,677.7890625,329.015625C686.1223958333334,329.015625,694.4557291666666,329.015625,703.23828125,329.015625C712.0208333333334,329.015625,721.2526041666666,329.015625,725.8684895833334,329.015625L730.484375,329.015625" id="L-EffectsGen-YTShort" class=" edge-thickness-normal edge-pattern-solid flowchart-link LS-EffectsGen LE-YTShort" style="fill:none;" marker-end="url(#flowchart-pointEnd)"></path></g><g class="edgeLabels"><g class="edgeLabel"><g class="label" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel"></span></div></foreignObject></g></g></g><g class="nodes"><g class="node default default" id="flowchart-IGReel-394" transform="translate(788.296875, 145.578125)"><rect class="basic label-container" style="" rx="0" ry="0" x="-60.5078125" y="-20.859375" width="121.015625" height="41.71875"></rect><g class="label" style="" transform="translate(-53.0078125, -13.359375)"><foreignObject width="106.015625" height="26.71875"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="nodeLabel">Instagram Reel</span></div></foreignObject></g></g><g class="node default default" id="flowchart-FBReel-395" transform="translate(788.296875, 237.296875)"><rect class="basic label-container" style="" rx="0" ry="0" x="-59.1328125" y="-20.859375" width="118.265625" height="41.71875"></rect><g class="label" style="" transform="translate(-51.6328125, -13.359375)"><foreignObject width="103.265625" height="26.71875"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="nodeLabel">Facebook Reel</span></div></foreignObject></g></g><g class="node default default" id="flowchart-YTShort-396" transform="translate(788.296875, 329.015625)"><rect class="basic label-container" style="" rx="0" ry="0" x="-57.8125" y="-20.859375" width="115.625" height="41.71875"></rect><g class="label" style="" transform="translate(-50.3125, -13.359375)"><foreignObject width="100.625" height="26.71875"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="nodeLabel">YouTube Short</span></div></foreignObject></g></g><g class="node default default" id="flowchart-ImageEnhance-388" transform="translate(321.02734375, 63.859375)"><rect class="basic label-container" style="" rx="0" ry="0" x="-79.83203125" y="-20.859375" width="159.6640625" height="41.71875"></rect><g class="label" style="" transform="translate(-72.33203125, -13.359375)"><foreignObject width="144.6640625" height="26.71875"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="nodeLabel">Image Enhancement</span></div></foreignObject></g></g><g class="node default default" id="flowchart-VideoGen-389" transform="translate(321.02734375, 155.578125)"><rect class="basic label-container" style="" rx="0" ry="0" x="-69.796875" y="-20.859375" width="139.59375" height="41.71875"></rect><g class="label" style="" transform="translate(-62.296875, -13.359375)"><foreignObject width="124.59375" height="26.71875"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="nodeLabel">Video Generation</span></div></foreignObject></g></g><g class="node default default" id="flowchart-MusicGen-390" transform="translate(321.02734375, 247.296875)"><rect class="basic label-container" style="" rx="0" ry="0" x="-69.375" y="-20.859375" width="138.75" height="41.71875"></rect><g class="label" style="" transform="translate(-61.875, -13.359375)"><foreignObject width="123.75" height="26.71875"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="nodeLabel">Music Generation</span></div></foreignObject></g></g><g class="node default default" id="flowchart-VoiceGen-391" transform="translate(321.02734375, 339.015625)"><rect class="basic label-container" style="" rx="0" ry="0" x="-68.9296875" y="-20.859375" width="137.859375" height="41.71875"></rect><g class="label" style="" transform="translate(-61.4296875, -13.359375)"><foreignObject width="122.859375" height="26.71875"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="nodeLabel">Voice Generation</span></div></foreignObject></g></g><g class="node default default" id="flowchart-CaptionGen-392" transform="translate(321.02734375, 430.734375)"><rect class="basic label-container" style="" rx="0" ry="0" x="-77.41015625" y="-20.859375" width="154.8203125" height="41.71875"></rect><g class="label" style="" transform="translate(-69.91015625, -13.359375)"><foreignObject width="139.8203125" height="26.71875"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="nodeLabel">Caption Generation</span></div></foreignObject></g></g><g class="node default default" id="flowchart-EffectsGen-393" transform="translate(539.32421875, 247.296875)"><rect class="basic label-container" style="" rx="0" ry="0" x="-88.46484375" y="-20.859375" width="176.9296875" height="41.71875"></rect><g class="label" style="" transform="translate(-80.96484375, -13.359375)"><foreignObject width="161.9296875" height="26.71875"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="nodeLabel">Effects and Transitions</span></div></foreignObject></g></g><g class="node default default" id="flowchart-RawImages-384" transform="translate(87.09765625, 63.859375)"><rect class="basic label-container" style="" rx="0" ry="0" x="-49.41015625" y="-20.859375" width="98.8203125" height="41.71875"></rect><g class="label" style="" transform="translate(-41.91015625, -13.359375)"><foreignObject width="83.8203125" height="26.71875"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="nodeLabel">Raw Images</span></div></foreignObject></g></g><g class="node default default" id="flowchart-RawVideos-385" transform="translate(87.09765625, 155.578125)"><rect class="basic label-container" style="" rx="0" ry="0" x="-47.91015625" y="-20.859375" width="95.8203125" height="41.71875"></rect><g class="label" style="" transform="translate(-40.41015625, -13.359375)"><foreignObject width="80.8203125" height="26.71875"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="nodeLabel">Raw Videos</span></div></foreignObject></g></g><g class="node default default" id="flowchart-TextPrompt-386" transform="translate(87.09765625, 430.734375)"><rect class="basic label-container" style="" rx="0" ry="0" x="-54.09765625" y="-20.859375" width="108.1953125" height="41.71875"></rect><g class="label" style="" transform="translate(-46.59765625, -13.359375)"><foreignObject width="93.1953125" height="26.71875"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="nodeLabel">Text Prompts</span></div></foreignObject></g></g><g class="node default default" id="flowchart-VoiceScript-387" transform="translate(87.09765625, 339.015625)"><rect class="basic label-container" style="" rx="0" ry="0" x="-53.05859375" y="-20.859375" width="106.1171875" height="41.71875"></rect><g class="label" style="" transform="translate(-45.55859375, -13.359375)"><foreignObject width="91.1171875" height="26.71875"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="nodeLabel">Voice Scripts</span></div></foreignObject></g></g></g></g></g></svg></pre>
<h3 id="ai-service-recommendations">AI Service Recommendations</h3>
<p>| Feature | Primary API | Fallback | Cost Estimate |</p>
<p>| --------------------- | ----------------------- | ------------------------ | ------------------ |</p>
<p>| <strong>Video Generation</strong> | Runway ML Gen-3 | Replicate (Stable Video) | $0.05-0.50/video |</p>
<p>| <strong>Image Enhancement</strong> | Replicate (Real-ESRGAN) | Cloudinary AI | $0.01-0.05/image |</p>
<p>| <strong>Image Generation</strong> | OpenAI DALL-E 3 | Stability AI | $0.04-0.08/image |</p>
<p>| <strong>Text/Caption AI</strong> | OpenAI GPT-4 Turbo | Claude 3 | $0.01-0.03/request |</p>
<p>| <strong>Voice Generation</strong> | ElevenLabs | PlayHT | $0.01-0.05/audio |</p>
<p>| <strong>Music Generation</strong> | Suno AI | Mubert | $0.02-0.10/track |</p>
<p>| <strong>Auto-Captions</strong> | AssemblyAI | Deepgram | $0.01/minute |</p>
<p>| <strong>Video Effects</strong> | Creatomate API | Shotstack | $0.05-0.20/render |</p>
<h3 id="video-processing-pipeline">Video Processing Pipeline</h3>
<pre class=" language-typescript"><code class="prism  language-typescript">
<span class="token comment">// Simplified AI generation flow</span>

<span class="token keyword">interface</span>  <span class="token class-name">VideoGenerationPipeline</span> <span class="token punctuation">{</span>

<span class="token comment">// Step 1: Upload and analyze media</span>

<span class="token function">analyzeMedia</span><span class="token punctuation">(</span>files<span class="token punctuation">:</span> File<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">:</span> Promise<span class="token operator">&lt;</span>MediaAnalysis<span class="token operator">&gt;</span><span class="token punctuation">;</span>

<span class="token comment">// Step 2: Generate content suggestions via GPT-4</span>

<span class="token function">generateContentPlan</span><span class="token punctuation">(</span>analysis<span class="token punctuation">:</span> MediaAnalysis<span class="token punctuation">,</span> template<span class="token punctuation">:</span> Template<span class="token punctuation">)</span><span class="token punctuation">:</span> Promise<span class="token operator">&lt;</span>ContentPlan<span class="token operator">&gt;</span><span class="token punctuation">;</span>

<span class="token comment">// Step 3: Enhance images/videos</span>

<span class="token function">enhanceMedia</span><span class="token punctuation">(</span>files<span class="token punctuation">:</span> File<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> settings<span class="token punctuation">:</span> EnhanceSettings<span class="token punctuation">)</span><span class="token punctuation">:</span> Promise<span class="token operator">&lt;</span>EnhancedMedia<span class="token operator">&gt;</span><span class="token punctuation">;</span>

<span class="token comment">// Step 4: Generate AI elements (voice, music, effects)</span>

<span class="token function">generateAIElements</span><span class="token punctuation">(</span>plan<span class="token punctuation">:</span> ContentPlan<span class="token punctuation">)</span><span class="token punctuation">:</span> Promise<span class="token operator">&lt;</span>AIElements<span class="token operator">&gt;</span><span class="token punctuation">;</span>

<span class="token comment">// Step 5: Compose final video</span>

<span class="token function">composeVideo</span><span class="token punctuation">(</span>media<span class="token punctuation">:</span> EnhancedMedia<span class="token punctuation">,</span> elements<span class="token punctuation">:</span> AIElements<span class="token punctuation">,</span> format<span class="token punctuation">:</span> OutputFormat<span class="token punctuation">)</span><span class="token punctuation">:</span> Promise<span class="token operator">&lt;</span>Video<span class="token operator">&gt;</span><span class="token punctuation">;</span>

<span class="token comment">// Step 6: Export for each platform</span>

<span class="token function">exportForPlatforms</span><span class="token punctuation">(</span>video<span class="token punctuation">:</span> Video<span class="token punctuation">,</span> platforms<span class="token punctuation">:</span> Platform<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">:</span> Promise<span class="token operator">&lt;</span>ExportedVideos<span class="token operator">&gt;</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span>

</code></pre>
<hr>
<h2 id="database-schema-design">4. Database Schema Design</h2>
<pre class=" language-mermaid"><svg id="mermaid-svg-0ObBCthRtOOZzIPX" width="100%" xmlns="http://www.w3.org/2000/svg" height="40" style="max-width: 40px;" viewBox="-20 -20 40 40"><style>#mermaid-svg-0ObBCthRtOOZzIPX{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;fill:#000000;}#mermaid-svg-0ObBCthRtOOZzIPX .error-icon{fill:#552222;}#mermaid-svg-0ObBCthRtOOZzIPX .error-text{fill:#552222;stroke:#552222;}#mermaid-svg-0ObBCthRtOOZzIPX .edge-thickness-normal{stroke-width:2px;}#mermaid-svg-0ObBCthRtOOZzIPX .edge-thickness-thick{stroke-width:3.5px;}#mermaid-svg-0ObBCthRtOOZzIPX .edge-pattern-solid{stroke-dasharray:0;}#mermaid-svg-0ObBCthRtOOZzIPX .edge-pattern-dashed{stroke-dasharray:3;}#mermaid-svg-0ObBCthRtOOZzIPX .edge-pattern-dotted{stroke-dasharray:2;}#mermaid-svg-0ObBCthRtOOZzIPX .marker{fill:#666;stroke:#666;}#mermaid-svg-0ObBCthRtOOZzIPX .marker.cross{stroke:#666;}#mermaid-svg-0ObBCthRtOOZzIPX svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;}#mermaid-svg-0ObBCthRtOOZzIPX .entityBox{fill:#eee;stroke:#999;}#mermaid-svg-0ObBCthRtOOZzIPX .attributeBoxOdd{fill:#ffffff;stroke:#999;}#mermaid-svg-0ObBCthRtOOZzIPX .attributeBoxEven{fill:#f2f2f2;stroke:#999;}#mermaid-svg-0ObBCthRtOOZzIPX .relationshipLabelBox{fill:hsl(-160,0%,93.3333333333%);opacity:0.7;background-color:hsl(-160,0%,93.3333333333%);}#mermaid-svg-0ObBCthRtOOZzIPX .relationshipLabelBox rect{opacity:0.5;}#mermaid-svg-0ObBCthRtOOZzIPX .relationshipLine{stroke:#666;}#mermaid-svg-0ObBCthRtOOZzIPX:root{--mermaid-font-family:"trebuchet ms",verdana,arial,sans-serif;}#mermaid-svg-0ObBCthRtOOZzIPX er{fill:apa;}</style><g></g><defs><marker id="ONLY_ONE_START" refX="0" refY="9" markerWidth="18" markerHeight="18" orient="auto"><path stroke="gray" fill="none" d="M9,0 L9,18 M15,0 L15,18"></path></marker></defs><defs><marker id="ONLY_ONE_END" refX="18" refY="9" markerWidth="18" markerHeight="18" orient="auto"><path stroke="gray" fill="none" d="M3,0 L3,18 M9,0 L9,18"></path></marker></defs><defs><marker id="ZERO_OR_ONE_START" refX="0" refY="9" markerWidth="30" markerHeight="18" orient="auto"><circle stroke="gray" fill="white" cx="21" cy="9" r="6"></circle><path stroke="gray" fill="none" d="M9,0 L9,18"></path></marker></defs><defs><marker id="ZERO_OR_ONE_END" refX="30" refY="9" markerWidth="30" markerHeight="18" orient="auto"><circle stroke="gray" fill="white" cx="9" cy="9" r="6"></circle><path stroke="gray" fill="none" d="M21,0 L21,18"></path></marker></defs><defs><marker id="ONE_OR_MORE_START" refX="18" refY="18" markerWidth="45" markerHeight="36" orient="auto"><path stroke="gray" fill="none" d="M0,18 Q 18,0 36,18 Q 18,36 0,18 M42,9 L42,27"></path></marker></defs><defs><marker id="ONE_OR_MORE_END" refX="27" refY="18" markerWidth="45" markerHeight="36" orient="auto"><path stroke="gray" fill="none" d="M3,9 L3,27 M9,18 Q27,0 45,18 Q27,36 9,18"></path></marker></defs><defs><marker id="ZERO_OR_MORE_START" refX="18" refY="18" markerWidth="57" markerHeight="36" orient="auto"><circle stroke="gray" fill="white" cx="48" cy="18" r="6"></circle><path stroke="gray" fill="none" d="M0,18 Q18,0 36,18 Q18,36 0,18"></path></marker></defs><defs><marker id="ZERO_OR_MORE_END" refX="39" refY="18" markerWidth="57" markerHeight="36" orient="auto"><circle stroke="gray" fill="white" cx="9" cy="18" r="6"></circle><path stroke="gray" fill="none" d="M21,18 Q39,0 57,18 Q39,36 21,18"></path></marker></defs></svg></pre>
<hr>
<h2 id="social-media-integration">5. Social Media Integration</h2>
<h3 id="oauth-flow">OAuth Flow</h3>
<pre class=" language-mermaid"><svg id="mermaid-svg-CCd6Zh4km50zVhuH" width="100%" xmlns="http://www.w3.org/2000/svg" height="719" style="max-width: 1033px;" viewBox="-50 -10 1033 719"><style>#mermaid-svg-CCd6Zh4km50zVhuH{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;fill:#000000;}#mermaid-svg-CCd6Zh4km50zVhuH .error-icon{fill:#552222;}#mermaid-svg-CCd6Zh4km50zVhuH .error-text{fill:#552222;stroke:#552222;}#mermaid-svg-CCd6Zh4km50zVhuH .edge-thickness-normal{stroke-width:2px;}#mermaid-svg-CCd6Zh4km50zVhuH .edge-thickness-thick{stroke-width:3.5px;}#mermaid-svg-CCd6Zh4km50zVhuH .edge-pattern-solid{stroke-dasharray:0;}#mermaid-svg-CCd6Zh4km50zVhuH .edge-pattern-dashed{stroke-dasharray:3;}#mermaid-svg-CCd6Zh4km50zVhuH .edge-pattern-dotted{stroke-dasharray:2;}#mermaid-svg-CCd6Zh4km50zVhuH .marker{fill:#666;stroke:#666;}#mermaid-svg-CCd6Zh4km50zVhuH .marker.cross{stroke:#666;}#mermaid-svg-CCd6Zh4km50zVhuH svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;}#mermaid-svg-CCd6Zh4km50zVhuH .actor{stroke:hsl(0,0%,83%);fill:#eee;}#mermaid-svg-CCd6Zh4km50zVhuH text.actor > tspan{fill:#333;stroke:none;}#mermaid-svg-CCd6Zh4km50zVhuH .actor-line{stroke:#666;}#mermaid-svg-CCd6Zh4km50zVhuH .messageLine0{stroke-width:1.5;stroke-dasharray:none;stroke:#333;}#mermaid-svg-CCd6Zh4km50zVhuH .messageLine1{stroke-width:1.5;stroke-dasharray:2,2;stroke:#333;}#mermaid-svg-CCd6Zh4km50zVhuH #arrowhead path{fill:#333;stroke:#333;}#mermaid-svg-CCd6Zh4km50zVhuH .sequenceNumber{fill:white;}#mermaid-svg-CCd6Zh4km50zVhuH #sequencenumber{fill:#333;}#mermaid-svg-CCd6Zh4km50zVhuH #crosshead path{fill:#333;stroke:#333;}#mermaid-svg-CCd6Zh4km50zVhuH .messageText{fill:#333;stroke:#333;}#mermaid-svg-CCd6Zh4km50zVhuH .labelBox{stroke:hsl(0,0%,83%);fill:#eee;}#mermaid-svg-CCd6Zh4km50zVhuH .labelText,#mermaid-svg-CCd6Zh4km50zVhuH .labelText > tspan{fill:#333;stroke:none;}#mermaid-svg-CCd6Zh4km50zVhuH .loopText,#mermaid-svg-CCd6Zh4km50zVhuH .loopText > tspan{fill:#333;stroke:none;}#mermaid-svg-CCd6Zh4km50zVhuH .loopLine{stroke-width:2px;stroke-dasharray:2,2;stroke:hsl(0,0%,83%);fill:hsl(0,0%,83%);}#mermaid-svg-CCd6Zh4km50zVhuH .note{stroke:hsl(60,100%,23.3333333333%);fill:#ffa;}#mermaid-svg-CCd6Zh4km50zVhuH .noteText,#mermaid-svg-CCd6Zh4km50zVhuH .noteText > tspan{fill:#333;stroke:none;}#mermaid-svg-CCd6Zh4km50zVhuH .activation0{fill:#f4f4f4;stroke:#666;}#mermaid-svg-CCd6Zh4km50zVhuH .activation1{fill:#f4f4f4;stroke:#666;}#mermaid-svg-CCd6Zh4km50zVhuH .activation2{fill:#f4f4f4;stroke:#666;}#mermaid-svg-CCd6Zh4km50zVhuH:root{--mermaid-font-family:"trebuchet ms",verdana,arial,sans-serif;}#mermaid-svg-CCd6Zh4km50zVhuH sequence{fill:apa;}</style><g></g><g><line id="actor12" x1="75" y1="5" x2="75" y2="708" class="actor-line" stroke-width="0.5px" stroke="#999"></line><rect x="0" y="0" fill="#eaeaea" stroke="#666" width="150" height="65" rx="3" ry="3" class="actor"></rect><text x="75" y="32.5" dominant-baseline="central" alignment-baseline="central" class="actor" style="text-anchor: middle; font-size: 14px; font-weight: 400; font-family: Open-Sans, &quot;sans-serif&quot;;"><tspan x="75" dy="0">User</tspan></text></g><g><line id="actor13" x1="329" y1="5" x2="329" y2="708" class="actor-line" stroke-width="0.5px" stroke="#999"></line><rect x="254" y="0" fill="#eaeaea" stroke="#666" width="150" height="65" rx="3" ry="3" class="actor"></rect><text x="329" y="32.5" dominant-baseline="central" alignment-baseline="central" class="actor" style="text-anchor: middle; font-size: 14px; font-weight: 400; font-family: Open-Sans, &quot;sans-serif&quot;;"><tspan x="329" dy="0">App</tspan></text></g><g><line id="actor14" x1="605" y1="5" x2="605" y2="708" class="actor-line" stroke-width="0.5px" stroke="#999"></line><rect x="530" y="0" fill="#eaeaea" stroke="#666" width="150" height="65" rx="3" ry="3" class="actor"></rect><text x="605" y="32.5" dominant-baseline="central" alignment-baseline="central" class="actor" style="text-anchor: middle; font-size: 14px; font-weight: 400; font-family: Open-Sans, &quot;sans-serif&quot;;"><tspan x="605" dy="0">Backend</tspan></text></g><g><line id="actor15" x1="858" y1="5" x2="858" y2="708" class="actor-line" stroke-width="0.5px" stroke="#999"></line><rect x="783" y="0" fill="#eaeaea" stroke="#666" width="150" height="65" rx="3" ry="3" class="actor"></rect><text x="858" y="32.5" dominant-baseline="central" alignment-baseline="central" class="actor" style="text-anchor: middle; font-size: 14px; font-weight: 400; font-family: Open-Sans, &quot;sans-serif&quot;;"><tspan x="858" dy="0">Social Platform</tspan></text></g><defs><marker id="arrowhead" refX="9" refY="5" markerUnits="userSpaceOnUse" markerWidth="12" markerHeight="12" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z"></path></marker></defs><defs><marker id="crosshead" markerWidth="15" markerHeight="8" orient="auto" refX="16" refY="4"><path fill="black" stroke="#000000" stroke-width="1px" d="M 9,2 V 6 L16,4 Z" style="stroke-dasharray: 0, 0;"></path><path fill="none" stroke="#000000" stroke-width="1px" d="M 0,1 L 6,7 M 6,1 L 0,7" style="stroke-dasharray: 0, 0;"></path></marker></defs><defs><marker id="filled-head" refX="18" refY="7" markerWidth="20" markerHeight="28" orient="auto"><path d="M 18,7 L9,13 L14,7 L9,1 Z"></path></marker></defs><defs><marker id="sequencenumber" refX="15" refY="15" markerWidth="60" markerHeight="40" orient="auto"><circle cx="15" cy="15" r="6"></circle></marker></defs><text x="202" y="80" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" class="messageText" dy="1em" style="font-family: &quot;trebuchet ms&quot;, verdana, arial, sans-serif; font-size: 16px; font-weight: 400;">Click "Connect Instagram"</text><line x1="75" y1="113" x2="329" y2="113" class="messageLine0" stroke-width="2" stroke="none" marker-end="url(#arrowhead)" style="fill: none;"></line><text x="467" y="128" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" class="messageText" dy="1em" style="font-family: &quot;trebuchet ms&quot;, verdana, arial, sans-serif; font-size: 16px; font-weight: 400;">Request OAuth URL</text><line x1="329" y1="161" x2="605" y2="161" class="messageLine0" stroke-width="2" stroke="none" marker-end="url(#arrowhead)" style="fill: none;"></line><text x="467" y="176" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" class="messageText" dy="1em" style="font-family: &quot;trebuchet ms&quot;, verdana, arial, sans-serif; font-size: 16px; font-weight: 400;">Return OAuth URL with state</text><line x1="605" y1="209" x2="329" y2="209" class="messageLine0" stroke-width="2" stroke="none" marker-end="url(#arrowhead)" style="fill: none;"></line><text x="594" y="224" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" class="messageText" dy="1em" style="font-family: &quot;trebuchet ms&quot;, verdana, arial, sans-serif; font-size: 16px; font-weight: 400;">Redirect to OAuth</text><line x1="329" y1="257" x2="858" y2="257" class="messageLine0" stroke-width="2" stroke="none" marker-end="url(#arrowhead)" style="fill: none;"></line><text x="467" y="272" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" class="messageText" dy="1em" style="font-family: &quot;trebuchet ms&quot;, verdana, arial, sans-serif; font-size: 16px; font-weight: 400;">Login and Authorize</text><line x1="858" y1="305" x2="75" y2="305" class="messageLine0" stroke-width="2" stroke="none" marker-end="url(#arrowhead)" style="fill: none;"></line><text x="732" y="320" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" class="messageText" dy="1em" style="font-family: &quot;trebuchet ms&quot;, verdana, arial, sans-serif; font-size: 16px; font-weight: 400;">Callback with code</text><line x1="858" y1="353" x2="605" y2="353" class="messageLine0" stroke-width="2" stroke="none" marker-end="url(#arrowhead)" style="fill: none;"></line><text x="732" y="368" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" class="messageText" dy="1em" style="font-family: &quot;trebuchet ms&quot;, verdana, arial, sans-serif; font-size: 16px; font-weight: 400;">Exchange code for tokens</text><line x1="605" y1="401" x2="858" y2="401" class="messageLine0" stroke-width="2" stroke="none" marker-end="url(#arrowhead)" style="fill: none;"></line><text x="732" y="416" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" class="messageText" dy="1em" style="font-family: &quot;trebuchet ms&quot;, verdana, arial, sans-serif; font-size: 16px; font-weight: 400;">Access + Refresh tokens</text><line x1="858" y1="449" x2="605" y2="449" class="messageLine0" stroke-width="2" stroke="none" marker-end="url(#arrowhead)" style="fill: none;"></line><text x="605" y="464" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" class="messageText" dy="1em" style="font-family: &quot;trebuchet ms&quot;, verdana, arial, sans-serif; font-size: 16px; font-weight: 400;">Encrypt and store tokens</text><path d="M 605,497 C 665,487 665,527 605,517" class="messageLine0" stroke-width="2" stroke="none" marker-end="url(#arrowhead)" style="fill: none;"></path><text x="467" y="542" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" class="messageText" dy="1em" style="font-family: &quot;trebuchet ms&quot;, verdana, arial, sans-serif; font-size: 16px; font-weight: 400;">Connection successful</text><line x1="605" y1="575" x2="329" y2="575" class="messageLine0" stroke-width="2" stroke="none" marker-end="url(#arrowhead)" style="fill: none;"></line><text x="202" y="590" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" class="messageText" dy="1em" style="font-family: &quot;trebuchet ms&quot;, verdana, arial, sans-serif; font-size: 16px; font-weight: 400;">Account connected</text><line x1="329" y1="623" x2="75" y2="623" class="messageLine0" stroke-width="2" stroke="none" marker-end="url(#arrowhead)" style="fill: none;"></line><g><rect x="0" y="643" fill="#eaeaea" stroke="#666" width="150" height="65" rx="3" ry="3" class="actor"></rect><text x="75" y="675.5" dominant-baseline="central" alignment-baseline="central" class="actor" style="text-anchor: middle; font-size: 14px; font-weight: 400; font-family: Open-Sans, &quot;sans-serif&quot;;"><tspan x="75" dy="0">User</tspan></text></g><g><rect x="254" y="643" fill="#eaeaea" stroke="#666" width="150" height="65" rx="3" ry="3" class="actor"></rect><text x="329" y="675.5" dominant-baseline="central" alignment-baseline="central" class="actor" style="text-anchor: middle; font-size: 14px; font-weight: 400; font-family: Open-Sans, &quot;sans-serif&quot;;"><tspan x="329" dy="0">App</tspan></text></g><g><rect x="530" y="643" fill="#eaeaea" stroke="#666" width="150" height="65" rx="3" ry="3" class="actor"></rect><text x="605" y="675.5" dominant-baseline="central" alignment-baseline="central" class="actor" style="text-anchor: middle; font-size: 14px; font-weight: 400; font-family: Open-Sans, &quot;sans-serif&quot;;"><tspan x="605" dy="0">Backend</tspan></text></g><g><rect x="783" y="643" fill="#eaeaea" stroke="#666" width="150" height="65" rx="3" ry="3" class="actor"></rect><text x="858" y="675.5" dominant-baseline="central" alignment-baseline="central" class="actor" style="text-anchor: middle; font-size: 14px; font-weight: 400; font-family: Open-Sans, &quot;sans-serif&quot;;"><tspan x="858" dy="0">Social Platform</tspan></text></g></svg></pre>
<h3 id="platform-api-requirements">Platform API Requirements</h3>
<p>| Platform | API | Permissions Needed | Notes |</p>
<p>| ------------- | --------------------- | ------------------------------------------ | ---------------------------------- |</p>
<p>| <strong>Instagram</strong> | Instagram Graph API | instagram_basic, instagram_content_publish | Requires Facebook Business account |</p>
<p>| <strong>Facebook</strong> | Graph API v18 | pages_manage_posts, pages_read_engagement | Requires Page access |</p>
<p>| <strong>YouTube</strong> | YouTube Data API v3 | youtube.upload, youtube.readonly | Google OAuth 2.0 |</p>
<p>| <strong>TikTok</strong> | TikTok for Developers | video.upload | Creator Marketplace access |</p>
<h3 id="direct-posting-flow">Direct Posting Flow</h3>
<pre class=" language-typescript"><code class="prism  language-typescript">
<span class="token comment">// Social posting service interface</span>

<span class="token keyword">interface</span>  <span class="token class-name">SocialPostingService</span> <span class="token punctuation">{</span>

<span class="token comment">// Get connected accounts</span>

<span class="token function">getConnectedAccounts</span><span class="token punctuation">(</span>userId<span class="token punctuation">:</span> <span class="token keyword">string</span><span class="token punctuation">)</span><span class="token punctuation">:</span> Promise<span class="token operator">&lt;</span>SocialAccount<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>

<span class="token comment">// Post to platform</span>

<span class="token function">postToInstagram</span><span class="token punctuation">(</span>accountId<span class="token punctuation">:</span> <span class="token keyword">string</span><span class="token punctuation">,</span> video<span class="token punctuation">:</span> Video<span class="token punctuation">,</span> caption<span class="token punctuation">:</span> <span class="token keyword">string</span><span class="token punctuation">)</span><span class="token punctuation">:</span> Promise<span class="token operator">&lt;</span>PostResult<span class="token operator">&gt;</span><span class="token punctuation">;</span>

<span class="token function">postToFacebook</span><span class="token punctuation">(</span>accountId<span class="token punctuation">:</span> <span class="token keyword">string</span><span class="token punctuation">,</span> video<span class="token punctuation">:</span> Video<span class="token punctuation">,</span> caption<span class="token punctuation">:</span> <span class="token keyword">string</span><span class="token punctuation">)</span><span class="token punctuation">:</span> Promise<span class="token operator">&lt;</span>PostResult<span class="token operator">&gt;</span><span class="token punctuation">;</span>

<span class="token function">postToYouTube</span><span class="token punctuation">(</span>accountId<span class="token punctuation">:</span> <span class="token keyword">string</span><span class="token punctuation">,</span> video<span class="token punctuation">:</span> Video<span class="token punctuation">,</span> metadata<span class="token punctuation">:</span> YouTubeMetadata<span class="token punctuation">)</span><span class="token punctuation">:</span> Promise<span class="token operator">&lt;</span>PostResult<span class="token operator">&gt;</span><span class="token punctuation">;</span>

<span class="token comment">// Schedule post</span>

<span class="token function">schedulePost</span><span class="token punctuation">(</span>post<span class="token punctuation">:</span> ScheduledPost<span class="token punctuation">)</span><span class="token punctuation">:</span> Promise<span class="token operator">&lt;</span>ScheduleResult<span class="token operator">&gt;</span><span class="token punctuation">;</span>

<span class="token comment">// Handle token refresh</span>

<span class="token function">refreshTokens</span><span class="token punctuation">(</span>accountId<span class="token punctuation">:</span> <span class="token keyword">string</span><span class="token punctuation">)</span><span class="token punctuation">:</span> Promise<span class="token operator">&lt;</span><span class="token keyword">void</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span>

</code></pre>
<hr>
<h2 id="security-architecture">6. Security Architecture</h2>
<h3 id="authentication-flow">Authentication Flow</h3>
<pre class=" language-mermaid"><svg id="mermaid-svg-v5HM5VEpfjHthKy5" width="100%" xmlns="http://www.w3.org/2000/svg" height="1113" style="max-width: 1250px;" viewBox="-50 -10 1250 1113"><style>#mermaid-svg-v5HM5VEpfjHthKy5{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;fill:#000000;}#mermaid-svg-v5HM5VEpfjHthKy5 .error-icon{fill:#552222;}#mermaid-svg-v5HM5VEpfjHthKy5 .error-text{fill:#552222;stroke:#552222;}#mermaid-svg-v5HM5VEpfjHthKy5 .edge-thickness-normal{stroke-width:2px;}#mermaid-svg-v5HM5VEpfjHthKy5 .edge-thickness-thick{stroke-width:3.5px;}#mermaid-svg-v5HM5VEpfjHthKy5 .edge-pattern-solid{stroke-dasharray:0;}#mermaid-svg-v5HM5VEpfjHthKy5 .edge-pattern-dashed{stroke-dasharray:3;}#mermaid-svg-v5HM5VEpfjHthKy5 .edge-pattern-dotted{stroke-dasharray:2;}#mermaid-svg-v5HM5VEpfjHthKy5 .marker{fill:#666;stroke:#666;}#mermaid-svg-v5HM5VEpfjHthKy5 .marker.cross{stroke:#666;}#mermaid-svg-v5HM5VEpfjHthKy5 svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;}#mermaid-svg-v5HM5VEpfjHthKy5 .actor{stroke:hsl(0,0%,83%);fill:#eee;}#mermaid-svg-v5HM5VEpfjHthKy5 text.actor > tspan{fill:#333;stroke:none;}#mermaid-svg-v5HM5VEpfjHthKy5 .actor-line{stroke:#666;}#mermaid-svg-v5HM5VEpfjHthKy5 .messageLine0{stroke-width:1.5;stroke-dasharray:none;stroke:#333;}#mermaid-svg-v5HM5VEpfjHthKy5 .messageLine1{stroke-width:1.5;stroke-dasharray:2,2;stroke:#333;}#mermaid-svg-v5HM5VEpfjHthKy5 #arrowhead path{fill:#333;stroke:#333;}#mermaid-svg-v5HM5VEpfjHthKy5 .sequenceNumber{fill:white;}#mermaid-svg-v5HM5VEpfjHthKy5 #sequencenumber{fill:#333;}#mermaid-svg-v5HM5VEpfjHthKy5 #crosshead path{fill:#333;stroke:#333;}#mermaid-svg-v5HM5VEpfjHthKy5 .messageText{fill:#333;stroke:#333;}#mermaid-svg-v5HM5VEpfjHthKy5 .labelBox{stroke:hsl(0,0%,83%);fill:#eee;}#mermaid-svg-v5HM5VEpfjHthKy5 .labelText,#mermaid-svg-v5HM5VEpfjHthKy5 .labelText > tspan{fill:#333;stroke:none;}#mermaid-svg-v5HM5VEpfjHthKy5 .loopText,#mermaid-svg-v5HM5VEpfjHthKy5 .loopText > tspan{fill:#333;stroke:none;}#mermaid-svg-v5HM5VEpfjHthKy5 .loopLine{stroke-width:2px;stroke-dasharray:2,2;stroke:hsl(0,0%,83%);fill:hsl(0,0%,83%);}#mermaid-svg-v5HM5VEpfjHthKy5 .note{stroke:hsl(60,100%,23.3333333333%);fill:#ffa;}#mermaid-svg-v5HM5VEpfjHthKy5 .noteText,#mermaid-svg-v5HM5VEpfjHthKy5 .noteText > tspan{fill:#333;stroke:none;}#mermaid-svg-v5HM5VEpfjHthKy5 .activation0{fill:#f4f4f4;stroke:#666;}#mermaid-svg-v5HM5VEpfjHthKy5 .activation1{fill:#f4f4f4;stroke:#666;}#mermaid-svg-v5HM5VEpfjHthKy5 .activation2{fill:#f4f4f4;stroke:#666;}#mermaid-svg-v5HM5VEpfjHthKy5:root{--mermaid-font-family:"trebuchet ms",verdana,arial,sans-serif;}#mermaid-svg-v5HM5VEpfjHthKy5 sequence{fill:apa;}</style><g></g><g><line id="actor16" x1="75" y1="5" x2="75" y2="1102" class="actor-line" stroke-width="0.5px" stroke="#999"></line><rect x="0" y="0" fill="#eaeaea" stroke="#666" width="150" height="65" rx="3" ry="3" class="actor"></rect><text x="75" y="32.5" dominant-baseline="central" alignment-baseline="central" class="actor" style="text-anchor: middle; font-size: 14px; font-weight: 400; font-family: Open-Sans, &quot;sans-serif&quot;;"><tspan x="75" dy="0">Client</tspan></text></g><g><line id="actor17" x1="403" y1="5" x2="403" y2="1102" class="actor-line" stroke-width="0.5px" stroke="#999"></line><rect x="328" y="0" fill="#eaeaea" stroke="#666" width="150" height="65" rx="3" ry="3" class="actor"></rect><text x="403" y="32.5" dominant-baseline="central" alignment-baseline="central" class="actor" style="text-anchor: middle; font-size: 14px; font-weight: 400; font-family: Open-Sans, &quot;sans-serif&quot;;"><tspan x="403" dy="0">API Gateway</tspan></text></g><g><line id="actor18" x1="675" y1="5" x2="675" y2="1102" class="actor-line" stroke-width="0.5px" stroke="#999"></line><rect x="600" y="0" fill="#eaeaea" stroke="#666" width="150" height="65" rx="3" ry="3" class="actor"></rect><text x="675" y="32.5" dominant-baseline="central" alignment-baseline="central" class="actor" style="text-anchor: middle; font-size: 14px; font-weight: 400; font-family: Open-Sans, &quot;sans-serif&quot;;"><tspan x="675" dy="0">Auth Service</tspan></text></g><g><line id="actor19" x1="875" y1="5" x2="875" y2="1102" class="actor-line" stroke-width="0.5px" stroke="#999"></line><rect x="800" y="0" fill="#eaeaea" stroke="#666" width="150" height="65" rx="3" ry="3" class="actor"></rect><text x="875" y="32.5" dominant-baseline="central" alignment-baseline="central" class="actor" style="text-anchor: middle; font-size: 14px; font-weight: 400; font-family: Open-Sans, &quot;sans-serif&quot;;"><tspan x="875" dy="0">PostgreSQL</tspan></text></g><g><line id="actor20" x1="1075" y1="5" x2="1075" y2="1102" class="actor-line" stroke-width="0.5px" stroke="#999"></line><rect x="1000" y="0" fill="#eaeaea" stroke="#666" width="150" height="65" rx="3" ry="3" class="actor"></rect><text x="1075" y="32.5" dominant-baseline="central" alignment-baseline="central" class="actor" style="text-anchor: middle; font-size: 14px; font-weight: 400; font-family: Open-Sans, &quot;sans-serif&quot;;"><tspan x="1075" dy="0">Redis</tspan></text></g><defs><marker id="arrowhead" refX="9" refY="5" markerUnits="userSpaceOnUse" markerWidth="12" markerHeight="12" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z"></path></marker></defs><defs><marker id="crosshead" markerWidth="15" markerHeight="8" orient="auto" refX="16" refY="4"><path fill="black" stroke="#000000" stroke-width="1px" d="M 9,2 V 6 L16,4 Z" style="stroke-dasharray: 0, 0;"></path><path fill="none" stroke="#000000" stroke-width="1px" d="M 0,1 L 6,7 M 6,1 L 0,7" style="stroke-dasharray: 0, 0;"></path></marker></defs><defs><marker id="filled-head" refX="18" refY="7" markerWidth="20" markerHeight="28" orient="auto"><path d="M 18,7 L9,13 L14,7 L9,1 Z"></path></marker></defs><defs><marker id="sequencenumber" refX="15" refY="15" markerWidth="60" markerHeight="40" orient="auto"><circle cx="15" cy="15" r="6"></circle></marker></defs><text x="239" y="80" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" class="messageText" dy="1em" style="font-family: &quot;trebuchet ms&quot;, verdana, arial, sans-serif; font-size: 16px; font-weight: 400;">POST /auth/login {email, password}</text><line x1="75" y1="113" x2="403" y2="113" class="messageLine0" stroke-width="2" stroke="none" marker-end="url(#arrowhead)" style="fill: none;"></line><text x="539" y="128" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" class="messageText" dy="1em" style="font-family: &quot;trebuchet ms&quot;, verdana, arial, sans-serif; font-size: 16px; font-weight: 400;">Validate credentials</text><line x1="403" y1="161" x2="675" y2="161" class="messageLine0" stroke-width="2" stroke="none" marker-end="url(#arrowhead)" style="fill: none;"></line><text x="775" y="176" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" class="messageText" dy="1em" style="font-family: &quot;trebuchet ms&quot;, verdana, arial, sans-serif; font-size: 16px; font-weight: 400;">Query user</text><line x1="675" y1="209" x2="875" y2="209" class="messageLine0" stroke-width="2" stroke="none" marker-end="url(#arrowhead)" style="fill: none;"></line><text x="775" y="224" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" class="messageText" dy="1em" style="font-family: &quot;trebuchet ms&quot;, verdana, arial, sans-serif; font-size: 16px; font-weight: 400;">User data</text><line x1="875" y1="257" x2="675" y2="257" class="messageLine0" stroke-width="2" stroke="none" marker-end="url(#arrowhead)" style="fill: none;"></line><text x="675" y="272" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" class="messageText" dy="1em" style="font-family: &quot;trebuchet ms&quot;, verdana, arial, sans-serif; font-size: 16px; font-weight: 400;">Verify password (bcrypt)</text><path d="M 675,305 C 735,295 735,335 675,325" class="messageLine0" stroke-width="2" stroke="none" marker-end="url(#arrowhead)" style="fill: none;"></path><text x="675" y="350" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" class="messageText" dy="1em" style="font-family: &quot;trebuchet ms&quot;, verdana, arial, sans-serif; font-size: 16px; font-weight: 400;">Generate JWT (15min) + Refresh (7d)</text><path d="M 675,383 C 735,373 735,413 675,403" class="messageLine0" stroke-width="2" stroke="none" marker-end="url(#arrowhead)" style="fill: none;"></path><text x="875" y="428" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" class="messageText" dy="1em" style="font-family: &quot;trebuchet ms&quot;, verdana, arial, sans-serif; font-size: 16px; font-weight: 400;">Store refresh token</text><line x1="675" y1="461" x2="1075" y2="461" class="messageLine0" stroke-width="2" stroke="none" marker-end="url(#arrowhead)" style="fill: none;"></line><text x="539" y="476" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" class="messageText" dy="1em" style="font-family: &quot;trebuchet ms&quot;, verdana, arial, sans-serif; font-size: 16px; font-weight: 400;">{accessToken, refreshToken}</text><line x1="675" y1="509" x2="403" y2="509" class="messageLine0" stroke-width="2" stroke="none" marker-end="url(#arrowhead)" style="fill: none;"></line><text x="239" y="524" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" class="messageText" dy="1em" style="font-family: &quot;trebuchet ms&quot;, verdana, arial, sans-serif; font-size: 16px; font-weight: 400;">Set httpOnly cookies</text><line x1="403" y1="557" x2="75" y2="557" class="messageLine0" stroke-width="2" stroke="none" marker-end="url(#arrowhead)" style="fill: none;"></line><g><rect x="50" y="567" fill="#EDF2AE" stroke="#666" width="1050" height="36" rx="0" ry="0" class="note"></rect><text x="575" y="572" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" class="noteText" dy="1em" style="font-family: &quot;trebuchet ms&quot;, verdana, arial, sans-serif; font-size: 14px; font-weight: 400;"><tspan x="575">Token Refresh Flow</tspan></text></g><text x="239" y="618" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" class="messageText" dy="1em" style="font-family: &quot;trebuchet ms&quot;, verdana, arial, sans-serif; font-size: 16px; font-weight: 400;">POST /auth/refresh</text><line x1="75" y1="651" x2="403" y2="651" class="messageLine0" stroke-width="2" stroke="none" marker-end="url(#arrowhead)" style="fill: none;"></line><text x="539" y="666" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" class="messageText" dy="1em" style="font-family: &quot;trebuchet ms&quot;, verdana, arial, sans-serif; font-size: 16px; font-weight: 400;">Validate refresh token</text><line x1="403" y1="699" x2="675" y2="699" class="messageLine0" stroke-width="2" stroke="none" marker-end="url(#arrowhead)" style="fill: none;"></line><text x="875" y="714" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" class="messageText" dy="1em" style="font-family: &quot;trebuchet ms&quot;, verdana, arial, sans-serif; font-size: 16px; font-weight: 400;">Check token validity</text><line x1="675" y1="747" x2="1075" y2="747" class="messageLine0" stroke-width="2" stroke="none" marker-end="url(#arrowhead)" style="fill: none;"></line><text x="875" y="762" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" class="messageText" dy="1em" style="font-family: &quot;trebuchet ms&quot;, verdana, arial, sans-serif; font-size: 16px; font-weight: 400;">Valid</text><line x1="1075" y1="795" x2="675" y2="795" class="messageLine0" stroke-width="2" stroke="none" marker-end="url(#arrowhead)" style="fill: none;"></line><text x="675" y="810" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" class="messageText" dy="1em" style="font-family: &quot;trebuchet ms&quot;, verdana, arial, sans-serif; font-size: 16px; font-weight: 400;">Generate new tokens</text><path d="M 675,843 C 735,833 735,873 675,863" class="messageLine0" stroke-width="2" stroke="none" marker-end="url(#arrowhead)" style="fill: none;"></path><text x="875" y="888" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" class="messageText" dy="1em" style="font-family: &quot;trebuchet ms&quot;, verdana, arial, sans-serif; font-size: 16px; font-weight: 400;">Rotate refresh token</text><line x1="675" y1="921" x2="1075" y2="921" class="messageLine0" stroke-width="2" stroke="none" marker-end="url(#arrowhead)" style="fill: none;"></line><text x="539" y="936" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" class="messageText" dy="1em" style="font-family: &quot;trebuchet ms&quot;, verdana, arial, sans-serif; font-size: 16px; font-weight: 400;">New tokens</text><line x1="675" y1="969" x2="403" y2="969" class="messageLine0" stroke-width="2" stroke="none" marker-end="url(#arrowhead)" style="fill: none;"></line><text x="239" y="984" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" class="messageText" dy="1em" style="font-family: &quot;trebuchet ms&quot;, verdana, arial, sans-serif; font-size: 16px; font-weight: 400;">Updated cookies</text><line x1="403" y1="1017" x2="75" y2="1017" class="messageLine0" stroke-width="2" stroke="none" marker-end="url(#arrowhead)" style="fill: none;"></line><g><rect x="0" y="1037" fill="#eaeaea" stroke="#666" width="150" height="65" rx="3" ry="3" class="actor"></rect><text x="75" y="1069.5" dominant-baseline="central" alignment-baseline="central" class="actor" style="text-anchor: middle; font-size: 14px; font-weight: 400; font-family: Open-Sans, &quot;sans-serif&quot;;"><tspan x="75" dy="0">Client</tspan></text></g><g><rect x="328" y="1037" fill="#eaeaea" stroke="#666" width="150" height="65" rx="3" ry="3" class="actor"></rect><text x="403" y="1069.5" dominant-baseline="central" alignment-baseline="central" class="actor" style="text-anchor: middle; font-size: 14px; font-weight: 400; font-family: Open-Sans, &quot;sans-serif&quot;;"><tspan x="403" dy="0">API Gateway</tspan></text></g><g><rect x="600" y="1037" fill="#eaeaea" stroke="#666" width="150" height="65" rx="3" ry="3" class="actor"></rect><text x="675" y="1069.5" dominant-baseline="central" alignment-baseline="central" class="actor" style="text-anchor: middle; font-size: 14px; font-weight: 400; font-family: Open-Sans, &quot;sans-serif&quot;;"><tspan x="675" dy="0">Auth Service</tspan></text></g><g><rect x="800" y="1037" fill="#eaeaea" stroke="#666" width="150" height="65" rx="3" ry="3" class="actor"></rect><text x="875" y="1069.5" dominant-baseline="central" alignment-baseline="central" class="actor" style="text-anchor: middle; font-size: 14px; font-weight: 400; font-family: Open-Sans, &quot;sans-serif&quot;;"><tspan x="875" dy="0">PostgreSQL</tspan></text></g><g><rect x="1000" y="1037" fill="#eaeaea" stroke="#666" width="150" height="65" rx="3" ry="3" class="actor"></rect><text x="1075" y="1069.5" dominant-baseline="central" alignment-baseline="central" class="actor" style="text-anchor: middle; font-size: 14px; font-weight: 400; font-family: Open-Sans, &quot;sans-serif&quot;;"><tspan x="1075" dy="0">Redis</tspan></text></g></svg></pre>
<h3 id="security-measures">Security Measures</h3>
<ul>
<li>
<p><strong>Authentication</strong>: JWT with short expiry (15min) + httpOnly refresh tokens</p>
</li>
<li>
<p><strong>Password</strong>: bcrypt with cost factor 12</p>
</li>
<li>
<p><strong>Rate Limiting</strong>: Redis-based, per-user and per-IP</p>
</li>
<li>
<p><strong>Input Validation</strong>: Zod schemas on all endpoints</p>
</li>
<li>
<p><strong>File Upload</strong>:</p>
</li>
<li>
<p>Virus scanning (ClamAV)</p>
</li>
<li>
<p>File type validation (magic bytes)</p>
</li>
<li>
<p>Size limits (100MB videos, 20MB images)</p>
</li>
<li>
<p><strong>API Keys</strong>: Encrypted at rest, scoped permissions</p>
</li>
<li>
<p><strong>Social Tokens</strong>: AES-256 encryption, automatic rotation</p>
</li>
<li>
<p><strong>CORS</strong>: Strict origin whitelist</p>
</li>
<li>
<p><strong>CSP</strong>: Content Security Policy headers</p>
</li>
<li>
<p><strong>SQL Injection</strong>: Prisma parameterized queries</p>
</li>
<li>
<p><strong>XSS</strong>: React auto-escaping + DOMPurify for user content</p>
</li>
</ul>
<hr>
<h2 id="scalability-architecture">7. Scalability Architecture</h2>
<h3 id="for-medium-scale-1k-10k-users-100-1k-videosday">For Medium Scale (1K-10K users, 100-1K videos/day)</h3>
<pre class=" language-mermaid"><svg id="mermaid-svg-7e2QTiIQFcwFOjCE" width="100%" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" height="524.1690063476562" style="max-width: 846.451171875px;" viewBox="0 0 846.451171875 524.1690063476562"><style>#mermaid-svg-7e2QTiIQFcwFOjCE{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;fill:#000000;}#mermaid-svg-7e2QTiIQFcwFOjCE .error-icon{fill:#552222;}#mermaid-svg-7e2QTiIQFcwFOjCE .error-text{fill:#552222;stroke:#552222;}#mermaid-svg-7e2QTiIQFcwFOjCE .edge-thickness-normal{stroke-width:2px;}#mermaid-svg-7e2QTiIQFcwFOjCE .edge-thickness-thick{stroke-width:3.5px;}#mermaid-svg-7e2QTiIQFcwFOjCE .edge-pattern-solid{stroke-dasharray:0;}#mermaid-svg-7e2QTiIQFcwFOjCE .edge-pattern-dashed{stroke-dasharray:3;}#mermaid-svg-7e2QTiIQFcwFOjCE .edge-pattern-dotted{stroke-dasharray:2;}#mermaid-svg-7e2QTiIQFcwFOjCE .marker{fill:#666;stroke:#666;}#mermaid-svg-7e2QTiIQFcwFOjCE .marker.cross{stroke:#666;}#mermaid-svg-7e2QTiIQFcwFOjCE svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;}#mermaid-svg-7e2QTiIQFcwFOjCE .label{font-family:"trebuchet ms",verdana,arial,sans-serif;color:#000000;}#mermaid-svg-7e2QTiIQFcwFOjCE .cluster-label text{fill:#333;}#mermaid-svg-7e2QTiIQFcwFOjCE .cluster-label span{color:#333;}#mermaid-svg-7e2QTiIQFcwFOjCE .label text,#mermaid-svg-7e2QTiIQFcwFOjCE span{fill:#000000;color:#000000;}#mermaid-svg-7e2QTiIQFcwFOjCE .node rect,#mermaid-svg-7e2QTiIQFcwFOjCE .node circle,#mermaid-svg-7e2QTiIQFcwFOjCE .node ellipse,#mermaid-svg-7e2QTiIQFcwFOjCE .node polygon,#mermaid-svg-7e2QTiIQFcwFOjCE .node path{fill:#eee;stroke:#999;stroke-width:1px;}#mermaid-svg-7e2QTiIQFcwFOjCE .node .label{text-align:center;}#mermaid-svg-7e2QTiIQFcwFOjCE .node.clickable{cursor:pointer;}#mermaid-svg-7e2QTiIQFcwFOjCE .arrowheadPath{fill:#333333;}#mermaid-svg-7e2QTiIQFcwFOjCE .edgePath .path{stroke:#666;stroke-width:1.5px;}#mermaid-svg-7e2QTiIQFcwFOjCE .flowchart-link{stroke:#666;fill:none;}#mermaid-svg-7e2QTiIQFcwFOjCE .edgeLabel{background-color:white;text-align:center;}#mermaid-svg-7e2QTiIQFcwFOjCE .edgeLabel rect{opacity:0.5;background-color:white;fill:white;}#mermaid-svg-7e2QTiIQFcwFOjCE .cluster rect{fill:hsl(210,66.6666666667%,95%);stroke:#26a;stroke-width:1px;}#mermaid-svg-7e2QTiIQFcwFOjCE .cluster text{fill:#333;}#mermaid-svg-7e2QTiIQFcwFOjCE .cluster span{color:#333;}#mermaid-svg-7e2QTiIQFcwFOjCE div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:12px;background:hsl(-160,0%,93.3333333333%);border:1px solid #26a;border-radius:2px;pointer-events:none;z-index:100;}#mermaid-svg-7e2QTiIQFcwFOjCE:root{--mermaid-font-family:"trebuchet ms",verdana,arial,sans-serif;}#mermaid-svg-7e2QTiIQFcwFOjCE flowchart-v2{fill:apa;}</style><g transform="translate(0, 0)"><marker id="flowchart-pointEnd" class="marker flowchart" viewBox="0 0 10 10" refX="9" refY="5" markerUnits="userSpaceOnUse" markerWidth="12" markerHeight="12" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path></marker><marker id="flowchart-pointStart" class="marker flowchart" viewBox="0 0 10 10" refX="0" refY="5" markerUnits="userSpaceOnUse" markerWidth="12" markerHeight="12" orient="auto"><path d="M 0 5 L 10 10 L 10 0 z" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path></marker><marker id="flowchart-circleEnd" class="marker flowchart" viewBox="0 0 10 10" refX="11" refY="5" markerUnits="userSpaceOnUse" markerWidth="11" markerHeight="11" orient="auto"><circle cx="5" cy="5" r="5" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></circle></marker><marker id="flowchart-circleStart" class="marker flowchart" viewBox="0 0 10 10" refX="-1" refY="5" markerUnits="userSpaceOnUse" markerWidth="11" markerHeight="11" orient="auto"><circle cx="5" cy="5" r="5" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></circle></marker><marker id="flowchart-crossEnd" class="marker cross flowchart" viewBox="0 0 11 11" refX="12" refY="5.2" markerUnits="userSpaceOnUse" markerWidth="11" markerHeight="11" orient="auto"><path d="M 1,1 l 9,9 M 10,1 l -9,9" class="arrowMarkerPath" style="stroke-width: 2; stroke-dasharray: 1, 0;"></path></marker><marker id="flowchart-crossStart" class="marker cross flowchart" viewBox="0 0 11 11" refX="-1" refY="5.2" markerUnits="userSpaceOnUse" markerWidth="11" markerHeight="11" orient="auto"><path d="M 1,1 l 9,9 M 10,1 l -9,9" class="arrowMarkerPath" style="stroke-width: 2; stroke-dasharray: 1, 0;"></path></marker><g class="root"><g class="clusters"><g class="cluster default" id="storage"><rect style="" rx="0" ry="0" x="656.412109375" y="383.15625" width="182.0390625" height="133.01277923583984"></rect><g class="cluster-label" transform="translate(720.427734375, 388.15625)"><foreignObject width="54.0078125" height="26.71875"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="nodeLabel">Storage</span></div></foreignObject></g></g><g class="cluster default" id="data"><rect style="" rx="0" ry="0" x="8" y="383.15625" width="628.412109375" height="133.01277923583984"></rect><g class="cluster-label" transform="translate(283.6396484375, 388.15625)"><foreignObject width="77.1328125" height="26.71875"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="nodeLabel">Data Layer</span></div></foreignObject></g></g><g class="cluster default" id="compute"><rect style="" rx="0" ry="0" x="20.96875" y="241.4375" width="783.6953125" height="91.71875"></rect><g class="cluster-label" transform="translate(358.65234375, 246.4375)"><foreignObject width="108.328125" height="26.71875"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="nodeLabel">Compute Layer</span></div></foreignObject></g></g><g class="cluster default" id="traffic"><rect style="" rx="0" ry="0" x="40.095703125" y="8" width="364.734375" height="183.4375"></rect><g class="cluster-label" transform="translate(177.146484375, 13)"><foreignObject width="90.6328125" height="26.71875"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="nodeLabel">Traffic Layer</span></div></foreignObject></g></g></g><g class="edgePaths"><path d="M299.369140625,74.71875L299.369140625,78.88541666666667C299.369140625,83.05208333333333,299.369140625,91.38541666666667,299.369140625,99.71875C299.369140625,108.05208333333333,299.369140625,116.38541666666667,299.369140625,120.55208333333333L299.369140625,124.71875" id="L-CF-LB" class=" edge-thickness-normal edge-pattern-solid flowchart-link LS-CF LE-LB" style="fill:none;" marker-end="url(#flowchart-pointEnd)"></path><path d="M241.357421875,159.3791033098777L218.89811197916666,164.72216942489808C196.43880208333334,170.06523553991846,151.52018229166666,180.75136776995922,129.06087239583334,190.2611005516463C106.6015625,199.77083333333334,106.6015625,208.10416666666666,106.6015625,216.4375C106.6015625,224.77083333333334,106.6015625,233.10416666666666,106.6015625,241.4375C106.6015625,249.77083333333334,106.6015625,258.1041666666667,106.6015625,262.2708333333333L106.6015625,266.4375" id="L-LB-API1" class=" edge-thickness-normal edge-pattern-solid flowchart-link LS-LB LE-API1" style="fill:none;" marker-end="url(#flowchart-pointEnd)"></path><path d="M321.63661227640546,166.4375L326.0845466886712,170.60416666666666C330.532481100937,174.77083333333334,339.42834992546847,183.10416666666666,343.87628433773426,191.4375C348.32421875,199.77083333333334,348.32421875,208.10416666666666,348.32421875,216.4375C348.32421875,224.77083333333334,348.32421875,233.10416666666666,348.32421875,241.4375C348.32421875,249.77083333333334,348.32421875,258.1041666666667,348.32421875,262.2708333333333L348.32421875,266.4375" id="L-LB-API2" class=" edge-thickness-normal edge-pattern-solid flowchart-link LS-LB LE-API2" style="fill:none;" marker-end="url(#flowchart-pointEnd)"></path><path d="M99.42160216141397,308.15625L97.98740284284497,312.3229166666667C96.55320352427599,316.4895833333333,93.68480488713799,324.8229166666667,92.25060556856899,333.15625C90.81640625,341.4895833333333,90.81640625,349.8229166666667,90.81640625,358.15625C90.81640625,366.4895833333333,90.81640625,374.8229166666667,92.61785635722475,383.22014266417324C94.4193064644495,391.61736866167985,98.02220667889902,400.0784873233597,99.82365678612378,404.3090466541997L101.62510689334854,408.5396059850396" id="L-API1-PG" class=" edge-thickness-normal edge-pattern-solid flowchart-link LS-API1 LE-PG" style="fill:none;" marker-end="url(#flowchart-pointEnd)"></path><path d="M302.44691958581774,308.15625L293.2829147590148,312.3229166666667C284.1189099322118,316.4895833333333,265.79090027860593,324.8229166666667,256.62689545180297,333.15625C247.462890625,341.4895833333333,247.462890625,349.8229166666667,247.462890625,358.15625C247.462890625,366.4895833333333,247.462890625,374.8229166666667,238.9091796875,385.73177612826777C230.35546875,396.6406355898689,213.248046875,410.1250211797378,204.6943359375,416.86721397467227L196.140625,423.6094067696067" id="L-API2-PG" class=" edge-thickness-normal edge-pattern-solid flowchart-link LS-API2 LE-PG" style="fill:none;" marker-end="url(#flowchart-pointEnd)"></path><path d="M152.4788616641823,308.15625L161.64286649098526,312.3229166666667C170.80687131778822,316.4895833333333,189.1348809713941,324.8229166666667,198.29888579819703,333.15625C207.462890625,341.4895833333333,207.462890625,349.8229166666667,207.462890625,358.15625C207.462890625,366.4895833333333,207.462890625,374.8229166666667,214.64393798808422,384.6923365697049C221.82498535116846,394.5617564727431,236.18708007733687,405.9672629454862,243.3681274404211,411.67001618185776L250.5491748035053,417.37276941822927" id="L-API1-PGRead" class=" edge-thickness-normal edge-pattern-solid flowchart-link LS-API1 LE-PGRead" style="fill:none;" marker-end="url(#flowchart-pointEnd)"></path><path d="M375.4183081345826,308.15625L380.83036094548555,312.3229166666667C386.24241375638843,316.4895833333333,397.06651937819424,324.8229166666667,402.4785721890971,333.15625C407.890625,341.4895833333333,407.890625,349.8229166666667,407.890625,358.15625C407.890625,366.4895833333333,407.890625,374.8229166666667,402.42755336457117,383.87226749829557C396.96448172914234,392.92161832992457,386.03833845828467,402.6869866598492,380.5752668228558,407.56967082481145L375.11219518742695,412.4523549897737" id="L-API2-PGRead" class=" edge-thickness-normal edge-pattern-solid flowchart-link LS-API2 LE-PGRead" style="fill:none;" marker-end="url(#flowchart-pointEnd)"></path><path d="M157.234375,306.5088857545127L168.93912760416666,310.95011312876056C180.64388020833334,315.39134050300845,204.05338541666666,324.2737952515042,215.75813802083334,332.8816892924188C227.462890625,341.4895833333333,227.462890625,349.8229166666667,227.462890625,358.15625C227.462890625,366.4895833333333,227.462890625,374.8229166666667,263.9599609375,387.8819583098659C300.45703125,400.9409999530651,373.451171875,418.7257499061302,409.9482421875,427.6181248826628L446.4453125,436.51049985919536" id="L-API1-RedisCluster" class=" edge-thickness-normal edge-pattern-solid flowchart-link LS-API1 LE-RedisCluster" style="fill:none;" marker-end="url(#flowchart-pointEnd)"></path><path d="M384.5154120528109,308.15625L391.74461421067576,312.3229166666667C398.9738163685406,316.4895833333333,413.4322206842703,324.8229166666667,420.66142284213515,333.15625C427.890625,341.4895833333333,427.890625,349.8229166666667,427.890625,358.15625C427.890625,366.4895833333333,427.890625,374.8229166666667,433.0291132092079,384.40594368792887C438.16760141841564,393.9889707091911,448.4445778368313,404.8216914183822,453.58306604603916,410.2380517729778L458.721554255247,415.6544121275734" id="L-API2-RedisCluster" class=" edge-thickness-normal edge-pattern-solid flowchart-link LS-API2 LE-RedisCluster" style="fill:none;" marker-end="url(#flowchart-pointEnd)"></path><path d="M519.1099173498723,308.15625L512.3419233123935,312.3229166666667C505.57392927491486,316.4895833333333,492.03794119995746,324.8229166666667,485.26994716247873,333.15625C478.501953125,341.4895833333333,478.501953125,349.8229166666667,478.501953125,358.15625C478.501953125,366.4895833333333,478.501953125,374.8229166666667,480.05506665153234,383.7543694582673C481.6081801780647,392.68582224986807,484.71440723112937,402.2153944997361,486.2675207576617,406.9801806246701L487.820634284194,411.7449667496041" id="L-Worker1-RedisCluster" class=" edge-thickness-normal edge-pattern-solid flowchart-link LS-Worker1 LE-RedisCluster" style="fill:none;" marker-end="url(#flowchart-pointEnd)"></path><path d="M675.0234375,308.09208440866246L667.095703125,312.26944534055207C659.16796875,316.4468062724416,643.3125,324.80152813622084,635.384765625,333.1455557347771C627.45703125,341.4895833333333,627.45703125,349.8229166666667,619.8678385416666,358.15625C612.2786458333334,366.4895833333333,597.1002604166666,374.8229166666667,583.7377746118444,384.67317836464775C570.3752888070221,394.5234400626288,558.8287026140443,405.8906301252576,553.0554095175554,411.574225156572L547.2821164210665,417.25782018788647" id="L-Worker2-RedisCluster" class=" edge-thickness-normal edge-pattern-solid flowchart-link LS-Worker2 LE-RedisCluster" style="fill:none;" marker-end="url(#flowchart-pointEnd)"></path><path d="M577.7658046741908,308.15625L582.7143424368256,312.3229166666667C587.6628801994606,316.4895833333333,597.5599557247302,324.8229166666667,602.5084934873652,333.15625C607.45703125,341.4895833333333,607.45703125,349.8229166666667,626.5345052083334,358.15625C645.6119791666666,366.4895833333333,683.7669270833334,374.8229166666667,705.7625282849632,386.59741910298663C727.7581294865931,398.37192153930664,733.5943839731863,413.5875930786133,736.5125112164828,421.1954288482666L739.4306384597794,428.8032646179199" id="L-Worker1-R2" class=" edge-thickness-normal edge-pattern-solid flowchart-link LS-Worker1 LE-R2" style="fill:none;" marker-end="url(#flowchart-pointEnd)"></path><path d="M734.0212913916099,308.15625L737.9230162638415,312.3229166666667C741.8247411360732,316.4895833333333,749.6281908805366,324.8229166666667,753.5299157527683,333.15625C757.431640625,341.4895833333333,757.431640625,349.8229166666667,757.431640625,358.15625C757.431640625,366.4895833333333,757.431640625,374.8229166666667,756.2877150844075,386.59741910298663C755.1437895438152,398.37192153930664,752.8559384626301,413.5875930786133,751.7120129220376,421.1954288482666L750.5680873814451,428.8032646179199" id="L-Worker2-R2" class=" edge-thickness-normal edge-pattern-solid flowchart-link LS-Worker2 LE-R2" style="fill:none;" marker-end="url(#flowchart-pointEnd)"></path></g><g class="edgeLabels"><g class="edgeLabel"><g class="label" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel"></span></div></foreignObject></g></g></g><g class="nodes"><g class="node default default" id="flowchart-R2-469" transform="translate(747.431640625, 449.6626396179199)"><rect class="basic label-container" style="" rx="0" ry="0" x="-56.01953125" y="-20.859375" width="112.0390625" height="41.71875"></rect><g class="label" style="" transform="translate(-48.51953125, -13.359375)"><foreignObject width="97.0390625" height="26.71875"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="nodeLabel">Cloudflare R2</span></div></foreignObject></g></g><g class="node default default" id="flowchart-PG-466" label-offset-y="13.764676141789788" transform="translate(119.5703125, 449.6626396179199)"><path style="" d="M 0,13.764676141789788 a 76.5703125,13.764676141789788 0,0,0 153.140625 0 a 76.5703125,13.764676141789788 0,0,0 -153.140625 0 l 0,55.48342614178979 a 76.5703125,13.764676141789788 0,0,0 153.140625 0 l 0,-55.48342614178979" transform="translate(-76.5703125,-41.50638921268468)"></path><g class="label" style="" transform="translate(-69.0703125, -13.359375)"><foreignObject width="138.140625" height="26.71875"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="nodeLabel">PostgreSQL Primary</span></div></foreignObject></g></g><g class="node default default" id="flowchart-PGRead-467" label-offset-y="13.64894009478135" transform="translate(321.29296875, 449.6626396179199)"><path style="" d="M 0,13.64894009478135 a 75.15234375,13.64894009478135 0,0,0 150.3046875 0 a 75.15234375,13.64894009478135 0,0,0 -150.3046875 0 l 0,55.36769009478135 a 75.15234375,13.64894009478135 0,0,0 150.3046875 0 l 0,-55.36769009478135" transform="translate(-75.15234375,-41.33278514217203)"></path><g class="label" style="" transform="translate(-67.65234375, -13.359375)"><foreignObject width="135.3046875" height="26.71875"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="nodeLabel">PostgreSQL Replica</span></div></foreignObject></g></g><g class="node default default" id="flowchart-RedisCluster-468" label-offset-y="11.585733928032463" transform="translate(500.42578125, 449.6626396179199)"><path style="" d="M 0,11.585733928032463 a 53.98046875,11.585733928032463 0,0,0 107.9609375 0 a 53.98046875,11.585733928032463 0,0,0 -107.9609375 0 l 0,53.30448392803246 a 53.98046875,11.585733928032463 0,0,0 107.9609375 0 l 0,-53.30448392803246" transform="translate(-53.98046875,-38.237975892048695)"></path><g class="label" style="" transform="translate(-46.48046875, -13.359375)"><foreignObject width="92.9609375" height="26.71875"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="nodeLabel">Redis Cluster</span></div></foreignObject></g></g><g class="node default default" id="flowchart-API1-462" transform="translate(106.6015625, 287.296875)"><rect class="basic label-container" style="" rx="0" ry="0" x="-50.6328125" y="-20.859375" width="101.265625" height="41.71875"></rect><g class="label" style="" transform="translate(-43.1328125, -13.359375)"><foreignObject width="86.265625" height="26.71875"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="nodeLabel">API Server 1</span></div></foreignObject></g></g><g class="node default default" id="flowchart-API2-463" transform="translate(348.32421875, 287.296875)"><rect class="basic label-container" style="" rx="0" ry="0" x="-50.6328125" y="-20.859375" width="101.265625" height="41.71875"></rect><g class="label" style="" transform="translate(-43.1328125, -13.359375)"><foreignObject width="86.265625" height="26.71875"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="nodeLabel">API Server 2</span></div></foreignObject></g></g><g class="node default default" id="flowchart-Worker1-464" transform="translate(552.9921875, 287.296875)"><rect class="basic label-container" style="" rx="0" ry="0" x="-39.46484375" y="-20.859375" width="78.9296875" height="41.71875"></rect><g class="label" style="" transform="translate(-31.96484375, -13.359375)"><foreignObject width="63.9296875" height="26.71875"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="nodeLabel">Worker 1</span></div></foreignObject></g></g><g class="node default default" id="flowchart-Worker2-465" transform="translate(714.48828125, 287.296875)"><rect class="basic label-container" style="" rx="0" ry="0" x="-39.46484375" y="-20.859375" width="78.9296875" height="41.71875"></rect><g class="label" style="" transform="translate(-31.96484375, -13.359375)"><foreignObject width="63.9296875" height="26.71875"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="nodeLabel">Worker 2</span></div></foreignObject></g></g><g class="node default default" id="flowchart-CF-460" transform="translate(299.369140625, 53.859375)"><rect class="basic label-container" style="" rx="0" ry="0" x="-44.7578125" y="-20.859375" width="89.515625" height="41.71875"></rect><g class="label" style="" transform="translate(-37.2578125, -13.359375)"><foreignObject width="74.515625" height="26.71875"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="nodeLabel">Cloudflare</span></div></foreignObject></g></g><g class="node default default" id="flowchart-LB-461" transform="translate(299.369140625, 145.578125)"><rect class="basic label-container" style="" rx="0" ry="0" x="-58.01171875" y="-20.859375" width="116.0234375" height="41.71875"></rect><g class="label" style="" transform="translate(-50.51171875, -13.359375)"><foreignObject width="101.0234375" height="26.71875"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="nodeLabel">Load Balancer</span></div></foreignObject></g></g></g></g></g></svg></pre>
<h3 id="key-scalability-strategies">Key Scalability Strategies</h3>
<ul>
<li>
<p><strong>Horizontal Scaling</strong>: Stateless API servers behind load balancer</p>
</li>
<li>
<p><strong>Database</strong>: Read replicas for query distribution</p>
</li>
<li>
<p><strong>Caching</strong>: Redis for sessions, rate limits, and hot data</p>
</li>
<li>
<p><strong>Queue</strong>: BullMQ for async video processing</p>
</li>
<li>
<p><strong>CDN</strong>: Cloudflare for static assets and video delivery</p>
</li>
<li>
<p><strong>Storage</strong>: R2 with lifecycle policies (move old files to cold storage)</p>
</li>
</ul>
<hr>
<h2 id="cost-estimation-monthly">8. Cost Estimation (Monthly)</h2>
<h3 id="infrastructure-costs-medium-scale">Infrastructure Costs (Medium Scale)</h3>
<p>| Service | Provider | Estimated Cost |</p>
<p>| ----------------------------- | -------------- | ------------------ |</p>
<p>| Compute (2x API + 2x Workers) | Railway/Render | $100-200 |</p>
<p>| PostgreSQL (managed) | Neon/Supabase | $50-100 |</p>
<p>| Redis | Upstash | $20-50 |</p>
<p>| Object Storage (1TB) | Cloudflare R2 | $15 |</p>
<p>| CDN (10TB transfer) | Cloudflare | Free-$20 |</p>
<p>| Domain + SSL | Cloudflare | Free |</p>
<p>| <strong>Infrastructure Total</strong> | | <strong>$185-385/month</strong> |</p>
<h3 id="ai-api-costs-500-videosday">AI API Costs (500 videos/day)</h3>
<p>| Service | Usage | Estimated Cost |</p>
<p>| ------------ | ---------------- | ------------------ |</p>
<p>| Runway ML | 500 videos | $250-500 |</p>
<p>| OpenAI GPT-4 | 15K requests | $150-300 |</p>
<p>| ElevenLabs | Voice generation | $50-100 |</p>
<p>| AssemblyAI | Transcription | $30-50 |</p>
<p>| <strong>AI Total</strong> | | <strong>$480-950/month</strong> |</p>
<h3 id="total-estimated-monthly-cost-665---1335">Total Estimated Monthly Cost: $665 - $1,335</h3>
<hr>
<h2 id="project-structure">9. Project Structure</h2>
<pre><code>
content-creator-platform/

├── apps/

│ ├── web/ # Next.js web application

│ │ ├── src/

│ │ │ ├── app/ # App router pages

│ │ │ ├── components/ # React components

│ │ │ │ ├── ui/ # Untitled UI components

│ │ │ │ ├── dashboard/ # Dashboard components

│ │ │ │ ├── editor/ # Video editor components

│ │ │ │ └── templates/ # Template components

│ │ │ ├── hooks/ # Custom hooks

│ │ │ ├── lib/ # Utilities

│ │ │ ├── stores/ # Zustand stores

│ │ │ └── styles/ # Global styles

│ │ └── package.json

│ │

│ ├── mobile/ # React Native application

│ │ ├── src/

│ │ │ ├── screens/ # App screens

│ │ │ ├── components/ # Shared components

│ │ │ ├── navigation/ # React Navigation

│ │ │ ├── hooks/ # Custom hooks

│ │ │ └── services/ # API services

│ │ └── package.json

│ │

│ └── api/ # NestJS backend

│ ├── src/

│ │ ├── modules/

│ │ │ ├── auth/ # Authentication

│ │ │ ├── users/ # User management

│ │ │ ├── media/ # Media upload/management

│ │ │ ├── projects/ # Project management

│ │ │ ├── templates/ # Template system

│ │ │ ├── ai/ # AI generation services

│ │ │ ├── social/ # Social media integration

│ │ │ └── billing/ # Subscription/credits

│ │ ├── common/ # Shared utilities

│ │ ├── config/ # Configuration

│ │ └── jobs/ # Background workers

│ └── package.json

│

├── packages/

│ ├── shared/ # Shared types and utilities

│ │ ├── types/ # TypeScript interfaces

│ │ ├── validators/ # Zod schemas

│ │ └── constants/ # Shared constants

│ │

│ └── ui/ # Shared UI components (web + mobile)

│ ├── primitives/ # Basic components

│ └── composites/ # Complex components

│

├── infrastructure/

│ ├── docker/ # Docker configurations

│ ├── terraform/ # Infrastructure as code (optional)

│ └── scripts/ # Deployment scripts

│

├── docs/ # Documentation

├── turbo.json # Turborepo config

├── package.json # Root package.json

└── README.md

</code></pre>
<hr>
<h2 id="development-phases">10. Development Phases</h2>
<h3 id="phase-1-foundation-weeks-1-3">Phase 1: Foundation (Weeks 1-3)</h3>
<ul>
<li>
<p>Set up monorepo with Turborepo</p>
</li>
<li>
<p>Initialize Next.js web app with Untitled UI design system</p>
</li>
<li>
<p>Initialize NestJS backend with authentication</p>
</li>
<li>
<p>Set up PostgreSQL database with Prisma</p>
</li>
<li>
<p>Implement user registration/login</p>
</li>
<li>
<p>Basic dashboard UI</p>
</li>
</ul>
<h3 id="phase-2-core-features-weeks-4-7">Phase 2: Core Features (Weeks 4-7)</h3>
<ul>
<li>
<p>Media upload system (images + videos)</p>
</li>
<li>
<p>Project creation and management</p>
</li>
<li>
<p>Template system (create, edit, import)</p>
</li>
<li>
<p>Basic video editor UI</p>
</li>
<li>
<p>AI integration foundation</p>
</li>
</ul>
<h3 id="phase-3-ai-integration-weeks-8-11">Phase 3: AI Integration (Weeks 8-11)</h3>
<ul>
<li>
<p>Integrate Runway ML for video generation</p>
</li>
<li>
<p>Integrate OpenAI for content suggestions</p>
</li>
<li>
<p>Implement video composition pipeline</p>
</li>
<li>
<p>Add voice generation (ElevenLabs)</p>
</li>
<li>
<p>Background job processing with BullMQ</p>
</li>
</ul>
<h3 id="phase-4-social-integration-weeks-12-14">Phase 4: Social Integration (Weeks 12-14)</h3>
<ul>
<li>
<p>Instagram OAuth + posting</p>
</li>
<li>
<p>Facebook OAuth + posting</p>
</li>
<li>
<p>YouTube OAuth + posting</p>
</li>
<li>
<p>Scheduled posting feature</p>
</li>
<li>
<p>Export in multiple formats</p>
</li>
</ul>
<h3 id="phase-5-mobile-app-weeks-15-18">Phase 5: Mobile App (Weeks 15-18)</h3>
<ul>
<li>
<p>Initialize React Native app</p>
</li>
<li>
<p>Port core screens from web</p>
</li>
<li>
<p>Native media picker</p>
</li>
<li>
<p>Push notifications</p>
</li>
<li>
<p>Deep linking</p>
</li>
</ul>
<h3 id="phase-6-polish-and-launch-weeks-19-20">Phase 6: Polish and Launch (Weeks 19-20)</h3>
<ul>
<li>
<p>Comprehensive testing</p>
</li>
<li>
<p>Security audit</p>
</li>
<li>
<p>Performance optimization</p>
</li>
<li>
<p>Documentation</p>
</li>
<li>
<p>Beta launch</p>
</li>
</ul>
<hr>
<h2 id="key-implementation-notes">11. Key Implementation Notes</h2>
<h3 id="untitled-ui-integration">Untitled UI Integration</h3>
<p>Untitled UI is a Figma design system. Implementation approach:</p>
<ul>
<li>
<p>Convert Figma designs to Tailwind CSS components</p>
</li>
<li>
<p>Use shadcn/ui as a base (similar aesthetic)</p>
</li>
<li>
<p>Create a <code>packages/ui</code> for shared components</p>
</li>
<li>
<p>Maintain design tokens for consistency</p>
</li>
</ul>
<h3 id="video-editor-implementation">Video Editor Implementation</h3>
<p>For the web-based video editor, consider:</p>
<ul>
<li>
<p><strong>Remotion</strong> - React-based video creation (recommended)</p>
</li>
<li>
<p><strong>FFmpeg.wasm</strong> - Client-side video processing</p>
</li>
<li>
<p><strong>Canvas/WebGL</strong> - For real-time preview</p>
</li>
</ul>
<h3 id="mobile-specific-considerations">Mobile-Specific Considerations</h3>
<ul>
<li>
<p>Use <code>expo-av</code> for video playback</p>
</li>
<li>
<p>Implement chunked uploads for large files</p>
</li>
<li>
<p>Background upload support</p>
</li>
<li>
<p>Offline mode for drafts</p>
</li>
</ul>
<h3 id="testing-strategy">Testing Strategy</h3>
<ul>
<li>
<p>Unit tests: Jest + React Testing Library</p>
</li>
<li>
<p>E2E tests: Playwright (web), Detox (mobile)</p>
</li>
<li>
<p>API tests: Supertest</p>
</li>
<li>
<p>Load testing: k6</p>
</li>
</ul>
<hr>
<h2 id="risk-mitigation">12. Risk Mitigation</h2>
<p>| Risk | Mitigation |</p>
<p>| ---------------------------- | ----------------------------------------------- |</p>
<p>| AI API costs spike | Implement usage limits, caching, credit system |</p>
<p>| Social API changes | Abstract integrations, monitor API updates |</p>
<p>| Video processing bottlenecks | Queue system, horizontal scaling of workers |</p>
<p>| Storage costs | Lifecycle policies, compression, user quotas |</p>
<p>| Security breaches | Regular audits, penetration testing, bug bounty |</p>

